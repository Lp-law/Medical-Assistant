{"ast":null,"code":"var _jsxFileName = \"C:\\\\Office-Apps\\\\LexMedical-App\\\\src\\\\components\\\\LiabilityStep.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { calculateLiabilityScore } from '../services/calculations';\nimport { Scale } from 'lucide-react';\nimport SmartAssistant from './SmartAssistant';\nimport { listKnowledgeDocuments, getKnowledgeDocument } from '../services/knowledgeApi';\nimport QualityBadge from './QualityBadge';\nimport KnowledgeFlags from './KnowledgeFlags';\nimport KnowledgeClaimsPanel from './KnowledgeClaimsPanel';\nimport { Loader2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst LiabilityStep = ({\n  caseData,\n  updateCaseData\n}) => {\n  _s();\n  const [localAnalysis, setLocalAnalysis] = useState(caseData.liability);\n  const [assistantOpen, setAssistantOpen] = useState(false);\n  const [evidenceOpen, setEvidenceOpen] = useState(false);\n  const [evidenceInitialized, setEvidenceInitialized] = useState(false);\n  const [medicalDocs, setMedicalDocs] = useState([]);\n  const [selectedMedicalId, setSelectedMedicalId] = useState('');\n  const [medicalDetail, setMedicalDetail] = useState(null);\n  const [medicalListLoading, setMedicalListLoading] = useState(false);\n  const [medicalDetailLoading, setMedicalDetailLoading] = useState(false);\n  const [medicalError, setMedicalError] = useState(null);\n  useEffect(() => {\n    const result = calculateLiabilityScore(50, localAnalysis.aggravatingFactors, localAnalysis.mitigatingFactors, localAnalysis.medicalRecordQuality, localAnalysis.expertCourtStance);\n    setLocalAnalysis(prev => ({\n      ...prev,\n      probability: result.probability,\n      probabilityRange: result.range,\n      uncertainty: result.uncertainty\n    }));\n  }, [localAnalysis.aggravatingFactors, localAnalysis.mitigatingFactors, localAnalysis.medicalRecordQuality, localAnalysis.expertCourtStance]);\n  useEffect(() => {\n    if (caseData.liability === localAnalysis) return;\n    setLocalAnalysis(caseData.liability);\n  }, [caseData.liability, localAnalysis]);\n  useEffect(() => {\n    updateCaseData(prev => {\n      if (!prev) return prev;\n      if (prev.liability === localAnalysis) return prev;\n      return {\n        ...prev,\n        liability: localAnalysis\n      };\n    });\n  }, [localAnalysis, updateCaseData]);\n  useEffect(() => {\n    if (!evidenceOpen || evidenceInitialized) return;\n    let cancelled = false;\n    const loadDocuments = async () => {\n      setMedicalListLoading(true);\n      setMedicalError(null);\n      try {\n        const docs = await listKnowledgeDocuments({\n          docType: 'chapter',\n          limit: 10\n        });\n        if (!cancelled) {\n          var _docs$0$id, _docs$;\n          setMedicalDocs(docs);\n          setSelectedMedicalId((_docs$0$id = (_docs$ = docs[0]) === null || _docs$ === void 0 ? void 0 : _docs$.id) !== null && _docs$0$id !== void 0 ? _docs$0$id : '');\n          setEvidenceInitialized(true);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת ניתוחים רפואיים נכשלה.');\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalListLoading(false);\n        }\n      }\n    };\n    loadDocuments();\n    return () => {\n      cancelled = true;\n    };\n  }, [evidenceOpen, evidenceInitialized]);\n  useEffect(() => {\n    if (!evidenceOpen || !selectedMedicalId) {\n      setMedicalDetail(null);\n      return;\n    }\n    let cancelled = false;\n    setMedicalDetailLoading(true);\n    setMedicalError(null);\n    const loadDetail = async () => {\n      try {\n        const doc = await getKnowledgeDocument(selectedMedicalId);\n        if (!cancelled) {\n          setMedicalDetail(doc);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת המסמך הרפואי נכשלה.');\n          setMedicalDetail(null);\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalDetailLoading(false);\n        }\n      }\n    };\n    loadDetail();\n    return () => {\n      cancelled = true;\n    };\n  }, [evidenceOpen, selectedMedicalId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex relative\",\n    children: [/*#__PURE__*/_jsxDEV(SmartAssistant, {\n      isOpen: assistantOpen,\n      onClose: () => setAssistantOpen(false),\n      contextQuery: \"\",\n      onImportPrecedent: () => {},\n      onImportRule: () => {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 space-y-8 pb-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-lg shadow-sm border border-slate-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-slate-800 flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Scale, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), \" \\u05E0\\u05D9\\u05EA\\u05D5\\u05D7 \\u05D7\\u05D1\\u05D5\\u05EA\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-4 p-4 bg-slate-100 rounded text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-4xl font-bold\",\n            children: [localAnalysis.probability, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: \"\\u05E1\\u05D9\\u05DB\\u05D5\\u05D9 \\u05DC\\u05EA\\u05D1\\u05D9\\u05E2\\u05D4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 border-t border-slate-200 pt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"flex w-full items-center justify-between rounded border border-slate-300 bg-slate-50 px-4 py-3 text-sm font-semibold text-slate-700\",\n            onClick: () => setEvidenceOpen(prev => !prev),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Medical Evidence\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: evidenceOpen ? 'הסתר' : 'הצג'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), evidenceOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 space-y-4\",\n            children: [medicalError && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700\",\n              children: medicalError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 19\n            }, this), medicalListLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm text-slate-500\",\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 21\n              }, this), \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05D9\\u05DD...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 19\n            }, this), !medicalListLoading && medicalDocs.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded border border-slate-200 bg-white p-3 text-sm text-slate-500\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05D9\\u05DD \\u05D6\\u05DE\\u05D9\\u05E0\\u05D9\\u05DD \\u05DC\\u05D4\\u05E6\\u05D2\\u05D4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 19\n            }, this), medicalDocs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-xs font-semibold text-slate-500\",\n                children: \"\\u05D1\\u05D7\\u05E8 \\u05DE\\u05E1\\u05DE\\u05DA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"mt-1 w-full rounded border border-slate-300 p-2 text-sm\",\n                value: selectedMedicalId,\n                onChange: e => setSelectedMedicalId(e.target.value),\n                disabled: medicalListLoading,\n                children: medicalDocs.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: doc.id,\n                  children: doc.title\n                }, doc.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 19\n            }, this), medicalDetailLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2 text-sm text-slate-500\",\n              children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                className: \"h-4 w-4 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 21\n              }, this), \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E0\\u05D9\\u05EA\\u05D5\\u05D7 \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9...\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 19\n            }, this), medicalDetail && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(QualityBadge, {\n                score: medicalDetail.score,\n                label: \"\\u05DE\\u05D3\\u05D3 \\u05D0\\u05D9\\u05DB\\u05D5\\u05EA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05EA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(KnowledgeFlags, {\n                flags: medicalDetail.flags || []\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(KnowledgeClaimsPanel, {\n                claims: medicalDetail.claims || [],\n                limit: 5\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_s(LiabilityStep, \"GKEcIXKX2kqb5irmJw0Q70LeHaw=\");\n_c = LiabilityStep;\nexport default LiabilityStep;\nvar _c;\n$RefreshReg$(_c, \"LiabilityStep\");","map":{"version":3,"names":["React","useState","useEffect","calculateLiabilityScore","Scale","SmartAssistant","listKnowledgeDocuments","getKnowledgeDocument","QualityBadge","KnowledgeFlags","KnowledgeClaimsPanel","Loader2","jsxDEV","_jsxDEV","Fragment","_Fragment","LiabilityStep","caseData","updateCaseData","_s","localAnalysis","setLocalAnalysis","liability","assistantOpen","setAssistantOpen","evidenceOpen","setEvidenceOpen","evidenceInitialized","setEvidenceInitialized","medicalDocs","setMedicalDocs","selectedMedicalId","setSelectedMedicalId","medicalDetail","setMedicalDetail","medicalListLoading","setMedicalListLoading","medicalDetailLoading","setMedicalDetailLoading","medicalError","setMedicalError","result","aggravatingFactors","mitigatingFactors","medicalRecordQuality","expertCourtStance","prev","probability","probabilityRange","range","uncertainty","cancelled","loadDocuments","docs","docType","limit","_docs$0$id","_docs$","id","error","console","loadDetail","doc","className","children","isOpen","onClose","contextQuery","onImportPrecedent","onImportRule","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","length","value","onChange","e","target","disabled","map","title","score","label","flags","claims","_c","$RefreshReg$"],"sources":["C:/Office-Apps/LexMedical-App/src/components/LiabilityStep.tsx"],"sourcesContent":["import React, { useState, useEffect, Dispatch, SetStateAction } from 'react';\nimport {\n  CaseData,\n  LiabilityAnalysis,\n  KnowledgeDocumentSummary,\n  KnowledgeDocumentDetail,\n} from '../types';\nimport { calculateLiabilityScore } from '../services/calculations';\nimport { Scale } from 'lucide-react';\nimport SmartAssistant from './SmartAssistant';\nimport { listKnowledgeDocuments, getKnowledgeDocument } from '../services/knowledgeApi';\nimport QualityBadge from './QualityBadge';\nimport KnowledgeFlags from './KnowledgeFlags';\nimport KnowledgeClaimsPanel from './KnowledgeClaimsPanel';\nimport { Loader2 } from 'lucide-react';\n\ninterface Props {\n  caseData: CaseData;\n  updateCaseData: Dispatch<SetStateAction<CaseData | null>>;\n}\n\nconst LiabilityStep: React.FC<Props> = ({ caseData, updateCaseData }) => {\n  const [localAnalysis, setLocalAnalysis] = useState<LiabilityAnalysis>(caseData.liability);\n  const [assistantOpen, setAssistantOpen] = useState(false);\n  const [evidenceOpen, setEvidenceOpen] = useState(false);\n  const [evidenceInitialized, setEvidenceInitialized] = useState(false);\n  const [medicalDocs, setMedicalDocs] = useState<KnowledgeDocumentSummary[]>([]);\n  const [selectedMedicalId, setSelectedMedicalId] = useState<string>('');\n  const [medicalDetail, setMedicalDetail] = useState<KnowledgeDocumentDetail | null>(null);\n  const [medicalListLoading, setMedicalListLoading] = useState(false);\n  const [medicalDetailLoading, setMedicalDetailLoading] = useState(false);\n  const [medicalError, setMedicalError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const result = calculateLiabilityScore(\n      50,\n      localAnalysis.aggravatingFactors,\n      localAnalysis.mitigatingFactors,\n      localAnalysis.medicalRecordQuality,\n      localAnalysis.expertCourtStance\n    );\n    setLocalAnalysis((prev: LiabilityAnalysis) => ({\n      ...prev,\n      probability: result.probability,\n      probabilityRange: result.range,\n      uncertainty: result.uncertainty,\n    }));\n  }, [localAnalysis.aggravatingFactors, localAnalysis.mitigatingFactors, localAnalysis.medicalRecordQuality, localAnalysis.expertCourtStance]);\n\n  useEffect(() => {\n    if (caseData.liability === localAnalysis) return;\n    setLocalAnalysis(caseData.liability);\n  }, [caseData.liability, localAnalysis]);\n\n  useEffect(() => {\n    updateCaseData((prev) => {\n      if (!prev) return prev;\n      if (prev.liability === localAnalysis) return prev;\n      return { ...prev, liability: localAnalysis };\n    });\n  }, [localAnalysis, updateCaseData]);\n\n  useEffect(() => {\n    if (!evidenceOpen || evidenceInitialized) return;\n    let cancelled = false;\n    const loadDocuments = async () => {\n      setMedicalListLoading(true);\n      setMedicalError(null);\n      try {\n        const docs = await listKnowledgeDocuments({ docType: 'chapter', limit: 10 });\n        if (!cancelled) {\n          setMedicalDocs(docs);\n          setSelectedMedicalId(docs[0]?.id ?? '');\n          setEvidenceInitialized(true);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת ניתוחים רפואיים נכשלה.');\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalListLoading(false);\n        }\n      }\n    };\n    loadDocuments();\n    return () => {\n      cancelled = true;\n    };\n  }, [evidenceOpen, evidenceInitialized]);\n\n  useEffect(() => {\n    if (!evidenceOpen || !selectedMedicalId) {\n      setMedicalDetail(null);\n      return;\n    }\n    let cancelled = false;\n    setMedicalDetailLoading(true);\n    setMedicalError(null);\n    const loadDetail = async () => {\n      try {\n        const doc = await getKnowledgeDocument(selectedMedicalId);\n        if (!cancelled) {\n          setMedicalDetail(doc);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת המסמך הרפואי נכשלה.');\n          setMedicalDetail(null);\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalDetailLoading(false);\n        }\n      }\n    };\n    loadDetail();\n    return () => {\n      cancelled = true;\n    };\n  }, [evidenceOpen, selectedMedicalId]);\n\n  return (\n    <div className=\"flex relative\">\n      <SmartAssistant\n        isOpen={assistantOpen}\n        onClose={() => setAssistantOpen(false)}\n        contextQuery=\"\"\n        onImportPrecedent={() => {}}\n        onImportRule={() => {}}\n      />\n      <div className=\"flex-1 space-y-8 pb-12\">\n        <div className=\"bg-white p-6 rounded-lg shadow-sm border border-slate-200\">\n          <h2 className=\"text-xl font-bold text-slate-800 flex items-center gap-2\">\n            <Scale className=\"w-5 h-5\" /> ניתוח חבות\n          </h2>\n          <div className=\"my-4 p-4 bg-slate-100 rounded text-center\">\n            <div className=\"text-4xl font-bold\">{localAnalysis.probability}%</div>\n            <div className=\"text-sm text-slate-500\">סיכוי לתביעה</div>\n          </div>\n          <div className=\"mt-6 border-t border-slate-200 pt-4\">\n            <button\n              type=\"button\"\n              className=\"flex w-full items-center justify-between rounded border border-slate-300 bg-slate-50 px-4 py-3 text-sm font-semibold text-slate-700\"\n              onClick={() => setEvidenceOpen((prev) => !prev)}\n            >\n              <span>Medical Evidence</span>\n              <span>{evidenceOpen ? 'הסתר' : 'הצג'}</span>\n            </button>\n            {evidenceOpen && (\n              <div className=\"mt-4 space-y-4\">\n                {medicalError && (\n                  <div className=\"rounded border border-rose-200 bg-rose-50 p-3 text-sm text-rose-700\">{medicalError}</div>\n                )}\n                {medicalListLoading && (\n                  <div className=\"flex items-center gap-2 text-sm text-slate-500\">\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    טוען מסמכים רפואיים...\n                  </div>\n                )}\n                {!medicalListLoading && medicalDocs.length === 0 && (\n                  <div className=\"rounded border border-slate-200 bg-white p-3 text-sm text-slate-500\">\n                    אין מסמכים רפואיים זמינים להצגה.\n                  </div>\n                )}\n                {medicalDocs.length > 0 && (\n                  <div>\n                    <label className=\"text-xs font-semibold text-slate-500\">בחר מסמך</label>\n                    <select\n                      className=\"mt-1 w-full rounded border border-slate-300 p-2 text-sm\"\n                      value={selectedMedicalId}\n                      onChange={(e) => setSelectedMedicalId(e.target.value)}\n                      disabled={medicalListLoading}\n                    >\n                      {medicalDocs.map((doc) => (\n                        <option key={doc.id} value={doc.id}>\n                          {doc.title}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                )}\n                {medicalDetailLoading && (\n                  <div className=\"flex items-center gap-2 text-sm text-slate-500\">\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                    טוען ניתוח רפואי...\n                  </div>\n                )}\n                {medicalDetail && (\n                  <>\n                    <QualityBadge score={medicalDetail.score} label=\"מדד איכות רפואית\" />\n                    <KnowledgeFlags flags={medicalDetail.flags || []} />\n                    <KnowledgeClaimsPanel claims={medicalDetail.claims || []} limit={5} />\n                  </>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default LiabilityStep;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}