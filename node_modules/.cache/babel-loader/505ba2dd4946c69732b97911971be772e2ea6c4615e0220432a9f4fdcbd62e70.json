{"ast":null,"code":"const inMemoryStore = {\n  book: [],\n  precedents: [],\n  lastUpdated: new Date().toISOString()\n};\nconst cloneStore = () => ({\n  book: [...inMemoryStore.book],\n  precedents: [...inMemoryStore.precedents],\n  lastUpdated: inMemoryStore.lastUpdated\n});\nexport const getKnowledgeBase = () => cloneStore();\nexport const saveBookChapter = chapter => {\n  const existingIndex = inMemoryStore.book.findIndex(item => item.id === chapter.id);\n  if (existingIndex >= 0) {\n    inMemoryStore.book[existingIndex] = chapter;\n  } else {\n    inMemoryStore.book.push(chapter);\n  }\n  inMemoryStore.lastUpdated = new Date().toISOString();\n};\nexport const saveGlobalPrecedent = precedent => {\n  const existingIndex = inMemoryStore.precedents.findIndex(item => item.id === precedent.id);\n  if (existingIndex >= 0) {\n    inMemoryStore.precedents[existingIndex] = precedent;\n  } else {\n    inMemoryStore.precedents.push(precedent);\n  }\n  inMemoryStore.lastUpdated = new Date().toISOString();\n};","map":{"version":3,"names":["inMemoryStore","book","precedents","lastUpdated","Date","toISOString","cloneStore","getKnowledgeBase","saveBookChapter","chapter","existingIndex","findIndex","item","id","push","saveGlobalPrecedent","precedent"],"sources":["C:/Office-Apps/LexMedical-App/src/services/knowledgeBase.ts"],"sourcesContent":["import { BookChapter, GlobalPrecedent, KnowledgeBase } from '../types';\r\n\r\nconst inMemoryStore: KnowledgeBase = {\r\n  book: [],\r\n  precedents: [],\r\n  lastUpdated: new Date().toISOString(),\r\n};\r\n\r\nconst cloneStore = (): KnowledgeBase => ({\r\n  book: [...inMemoryStore.book],\r\n  precedents: [...inMemoryStore.precedents],\r\n  lastUpdated: inMemoryStore.lastUpdated,\r\n});\r\n\r\nexport const getKnowledgeBase = (): KnowledgeBase => cloneStore();\r\n\r\nexport const saveBookChapter = (chapter: BookChapter): void => {\r\n  const existingIndex = inMemoryStore.book.findIndex((item) => item.id === chapter.id);\r\n  if (existingIndex >= 0) {\r\n    inMemoryStore.book[existingIndex] = chapter;\r\n  } else {\r\n    inMemoryStore.book.push(chapter);\r\n  }\r\n  inMemoryStore.lastUpdated = new Date().toISOString();\r\n};\r\n\r\nexport const saveGlobalPrecedent = (precedent: GlobalPrecedent): void => {\r\n  const existingIndex = inMemoryStore.precedents.findIndex((item) => item.id === precedent.id);\r\n  if (existingIndex >= 0) {\r\n    inMemoryStore.precedents[existingIndex] = precedent;\r\n  } else {\r\n    inMemoryStore.precedents.push(precedent);\r\n  }\r\n  inMemoryStore.lastUpdated = new Date().toISOString();\r\n};\r\n\r\n"],"mappings":"AAEA,MAAMA,aAA4B,GAAG;EACnCC,IAAI,EAAE,EAAE;EACRC,UAAU,EAAE,EAAE;EACdC,WAAW,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;AACtC,CAAC;AAED,MAAMC,UAAU,GAAGA,CAAA,MAAsB;EACvCL,IAAI,EAAE,CAAC,GAAGD,aAAa,CAACC,IAAI,CAAC;EAC7BC,UAAU,EAAE,CAAC,GAAGF,aAAa,CAACE,UAAU,CAAC;EACzCC,WAAW,EAAEH,aAAa,CAACG;AAC7B,CAAC,CAAC;AAEF,OAAO,MAAMI,gBAAgB,GAAGA,CAAA,KAAqBD,UAAU,CAAC,CAAC;AAEjE,OAAO,MAAME,eAAe,GAAIC,OAAoB,IAAW;EAC7D,MAAMC,aAAa,GAAGV,aAAa,CAACC,IAAI,CAACU,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;EACpF,IAAIH,aAAa,IAAI,CAAC,EAAE;IACtBV,aAAa,CAACC,IAAI,CAACS,aAAa,CAAC,GAAGD,OAAO;EAC7C,CAAC,MAAM;IACLT,aAAa,CAACC,IAAI,CAACa,IAAI,CAACL,OAAO,CAAC;EAClC;EACAT,aAAa,CAACG,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;AACtD,CAAC;AAED,OAAO,MAAMU,mBAAmB,GAAIC,SAA0B,IAAW;EACvE,MAAMN,aAAa,GAAGV,aAAa,CAACE,UAAU,CAACS,SAAS,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKG,SAAS,CAACH,EAAE,CAAC;EAC5F,IAAIH,aAAa,IAAI,CAAC,EAAE;IACtBV,aAAa,CAACE,UAAU,CAACQ,aAAa,CAAC,GAAGM,SAAS;EACrD,CAAC,MAAM;IACLhB,aAAa,CAACE,UAAU,CAACY,IAAI,CAACE,SAAS,CAAC;EAC1C;EACAhB,aAAa,CAACG,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;AACtD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}