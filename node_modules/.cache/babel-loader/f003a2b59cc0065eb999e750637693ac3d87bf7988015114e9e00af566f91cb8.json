{"ast":null,"code":"var _jsxFileName = \"C:\\\\Office-Apps\\\\LexMedical-App\\\\src\\\\components\\\\AdminDashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { saveBookChapter, saveGlobalPrecedent, getKnowledgeBase } from '../services/knowledgeBase';\nimport { uploadChapterPdf, isApiConfigured, listCases as apiListCases, getCase as apiGetCase, renewCase as apiRenewCase, archiveCase as apiArchiveCase, deleteCase as apiDeleteCase, exportCaseFile as apiExportCaseFile, updateCaseMetadata as apiUpdateCaseMetadata, listNotifications as apiListNotifications, markNotificationRead as apiMarkNotificationRead } from '../services/api';\nimport { listKnowledgeDocuments, getKnowledgeDocument } from '../services/knowledgeApi';\nimport { Book, Gavel, LogOut, Save, Layout, UploadCloud, Loader2, Activity, AlertTriangle, Bell } from 'lucide-react';\nimport QualityBadge from './QualityBadge';\nimport KnowledgeClaimsPanel from './KnowledgeClaimsPanel';\nimport KnowledgeFlags from './KnowledgeFlags';\nimport MedicalTimeline from './MedicalTimeline';\nimport MedicalQualityBox from './MedicalQualityBox';\nimport LiteraturePanel from './LiteraturePanel';\nimport ContextRibbon from './ContextRibbon';\nimport LegalDisclaimer from './LegalDisclaimer';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = ({\n  currentUserName,\n  onEditCase: _onEditCase,\n  onLogout\n}) => {\n  _s();\n  var _medicalDetail$flags, _medicalDetail$claims, _medicalDetail$flags2, _medicalDetail$qualit, _medicalDetail$reason, _medicalDetail$litera, _selectedCase$isOwner;\n  const [activeTab, setActiveTab] = useState('knowledge');\n  const [brain, setBrain] = useState(getKnowledgeBase());\n  const [newChapter, setNewChapter] = useState({\n    title: '',\n    content: '',\n    tags: [],\n    rules: []\n  });\n  const [newPrecedent, setNewPrecedent] = useState({\n    caseName: '',\n    keyTakeaway: '',\n    tags: []\n  });\n  const [importing, setImporting] = useState(false);\n  const [importMessage, setImportMessage] = useState('');\n  const [importInsights, setImportInsights] = useState([]);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef(null);\n  const [medicalDocs, setMedicalDocs] = useState([]);\n  const [selectedMedicalId, setSelectedMedicalId] = useState('');\n  const [medicalDetail, setMedicalDetail] = useState(null);\n  const [medicalInitialized, setMedicalInitialized] = useState(false);\n  const [medicalListLoading, setMedicalListLoading] = useState(false);\n  const [medicalDetailLoading, setMedicalDetailLoading] = useState(false);\n  const [medicalError, setMedicalError] = useState(null);\n  const [caseLists, setCaseLists] = useState({\n    ownCases: [],\n    otherCases: []\n  });\n  const [caseListLoading, setCaseListLoading] = useState(false);\n  const [caseListError, setCaseListError] = useState(null);\n  const [selectedCase, setSelectedCase] = useState(null);\n  const [subjectDraft, setSubjectDraft] = useState('');\n  const [notifications, setNotifications] = useState([]);\n  const [notificationsError, setNotificationsError] = useState(null);\n  const [confirmAction, setConfirmAction] = useState(null);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const handleSaveChapter = () => {\n    if (!newChapter.title || !newChapter.content) {\n      setImportMessage('חובה למלא כותרת ותוכן לפרק.');\n      return;\n    }\n    const chapter = {\n      id: Date.now().toString(),\n      title: newChapter.title,\n      content: newChapter.content,\n      tags: newChapter.tags || [],\n      rules: newChapter.rules || []\n    };\n    saveBookChapter(chapter);\n    setBrain(getKnowledgeBase());\n    setNewChapter({\n      title: '',\n      content: '',\n      tags: [],\n      rules: []\n    });\n    setImportMessage('הפרק נשמר בהצלחה במאגר הפנימי.');\n  };\n  const handleSavePrecedent = () => {\n    if (!newPrecedent.caseName || !newPrecedent.keyTakeaway) {\n      setImportMessage('חובה למלא שם ותובנה לפני שמירת תקדים.');\n      return;\n    }\n    const precedent = {\n      id: Date.now().toString(),\n      caseName: newPrecedent.caseName,\n      keyTakeaway: newPrecedent.keyTakeaway,\n      citation: newPrecedent.citation || '',\n      tags: newPrecedent.tags || [],\n      relevantIssues: []\n    };\n    saveGlobalPrecedent(precedent);\n    setBrain(getKnowledgeBase());\n    setNewPrecedent({\n      caseName: '',\n      keyTakeaway: '',\n      tags: []\n    });\n    setImportMessage('התקדים נשמר בהצלחה במאגר הפנימי.');\n  };\n  const importChapterFile = async file => {\n    setImporting(true);\n    setImportMessage(`מעלה את \"${file.name}\" לעיבוד...`);\n    setImportInsights([]);\n    try {\n      if (!isApiConfigured()) {\n        setImportMessage('שרת העיבוד לא הוגדר. עדכן את REACT_APP_API_BASE_URL.');\n        return;\n      }\n      const backendResult = await uploadChapterPdf(file, {\n        docType: 'chapter'\n      });\n      const chapter = {\n        id: backendResult.id,\n        title: backendResult.title,\n        content: backendResult.content || backendResult.summary,\n        tags: backendResult.tags || [],\n        rules: backendResult.rules || []\n      };\n      saveBookChapter(chapter);\n      setBrain(getKnowledgeBase());\n      setNewChapter(chapter);\n      setImportInsights(backendResult.insights || []);\n      setImportMessage(`הפרק \"${chapter.title}\" עוּבד בהצלחה דרך השרת ונשמר במאגר.`);\n    } catch (error) {\n      console.error(error);\n      setImportMessage('אירעה שגיאה בקריאת או עיבוד הקובץ. ודא שהקובץ PDF תקין ושה-API זמין.');\n    } finally {\n      setImporting(false);\n      if (fileInputRef.current) fileInputRef.current.value = '';\n    }\n  };\n  const handlePdfSelection = files => {\n    if (!files || !files.length) return;\n    const file = files[0];\n    if (file.type !== 'application/pdf') {\n      setImportMessage('נא לבחור קובץ PDF בלבד.');\n      return;\n    }\n    importChapterFile(file);\n  };\n  const handleDrop = event => {\n    event.preventDefault();\n    setDragActive(false);\n    handlePdfSelection(event.dataTransfer.files);\n  };\n  const handleDrag = event => {\n    event.preventDefault();\n    if (event.type === 'dragover') {\n      setDragActive(true);\n    } else if (event.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n  const triggerFilePicker = () => {\n    var _fileInputRef$current;\n    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const refreshCaseLists = useCallback(async () => {\n    setCaseListLoading(true);\n    setCaseListError(null);\n    try {\n      const payload = await apiListCases();\n      setCaseLists(payload);\n      if (selectedCase && !payload.ownCases.find(entry => entry.id === selectedCase.id)) {\n        setSelectedCase(null);\n      }\n      if (!selectedCase && payload.ownCases.length > 0) {\n        var _payload$ownCases$0$t;\n        setSelectedCase(payload.ownCases[0]);\n        setSubjectDraft((_payload$ownCases$0$t = payload.ownCases[0].topicSummary) !== null && _payload$ownCases$0$t !== void 0 ? _payload$ownCases$0$t : '');\n      }\n    } catch (error) {\n      console.error(error);\n      setCaseListError('טעינת התיקים נכשלה.');\n    } finally {\n      setCaseListLoading(false);\n    }\n  }, [selectedCase]);\n  const refreshNotifications = useCallback(async () => {\n    try {\n      const items = await apiListNotifications();\n      setNotifications(items);\n      setNotificationsError(null);\n    } catch (error) {\n      console.error(error);\n      setNotificationsError('טעינת ההתראות נכשלה.');\n    }\n  }, []);\n  const handleSelectCaseDetail = useCallback(async caseId => {\n    setCaseListLoading(true);\n    setCaseListError(null);\n    try {\n      var _detail$topicSummary;\n      const detail = await apiGetCase(caseId);\n      setSelectedCase(detail);\n      setSubjectDraft((_detail$topicSummary = detail.topicSummary) !== null && _detail$topicSummary !== void 0 ? _detail$topicSummary : '');\n    } catch (error) {\n      console.error(error);\n      setCaseListError('טעינת פרטי התיק נכשלה.');\n    } finally {\n      setCaseListLoading(false);\n    }\n  }, []);\n  const performExportCase = async (caseId, format) => {\n    try {\n      const blob = await apiExportCaseFile(caseId, format);\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `case-${caseId}.${format === 'pdf' ? 'pdf' : 'json'}`;\n      document.body.appendChild(link);\n      link.click();\n      link.remove();\n      URL.revokeObjectURL(url);\n    } catch (error) {\n      console.error(error);\n      setCaseListError('ייצוא התיק נכשל.');\n    }\n  };\n  const performRenewCase = async caseId => {\n    try {\n      await apiRenewCase(caseId);\n      await refreshCaseLists();\n      if ((selectedCase === null || selectedCase === void 0 ? void 0 : selectedCase.id) === caseId) {\n        var _detail$topicSummary2;\n        const detail = await apiGetCase(caseId);\n        setSelectedCase(detail);\n        setSubjectDraft((_detail$topicSummary2 = detail.topicSummary) !== null && _detail$topicSummary2 !== void 0 ? _detail$topicSummary2 : '');\n      }\n    } catch (error) {\n      console.error(error);\n      setCaseListError('חידוש התיק נכשל.');\n    }\n  };\n  const performArchiveCase = async caseRecord => {\n    try {\n      if (caseRecord.status === 'ARCHIVED') {\n        await apiRenewCase(caseRecord.id);\n      } else {\n        await apiArchiveCase(caseRecord.id);\n      }\n      await refreshCaseLists();\n      if ((selectedCase === null || selectedCase === void 0 ? void 0 : selectedCase.id) === caseRecord.id) {\n        const detail = await apiGetCase(caseRecord.id);\n        setSelectedCase(detail);\n      }\n    } catch (error) {\n      console.error(error);\n      setCaseListError('עדכון מצב הארכיון נכשל.');\n    }\n  };\n  const performDeleteCase = async caseId => {\n    try {\n      await apiDeleteCase(caseId);\n      if ((selectedCase === null || selectedCase === void 0 ? void 0 : selectedCase.id) === caseId) {\n        setSelectedCase(null);\n      }\n      await refreshCaseLists();\n    } catch (error) {\n      console.error(error);\n      setCaseListError('מחיקת התיק נכשלה.');\n    }\n  };\n  const handleSaveMetadata = async () => {\n    if (!selectedCase) return;\n    try {\n      const updated = await apiUpdateCaseMetadata(selectedCase.id, {\n        topicSummary: subjectDraft.trim() || undefined\n      });\n      setSelectedCase(updated);\n      await refreshCaseLists();\n    } catch (error) {\n      console.error(error);\n      setCaseListError('עדכון הנושא נכשל.');\n    }\n  };\n  const closeConfirmDialog = () => {\n    if (confirmLoading) return;\n    setConfirmAction(null);\n  };\n  const handleConfirmDangerAction = async () => {\n    if (!confirmAction) return;\n    setConfirmLoading(true);\n    try {\n      switch (confirmAction.kind) {\n        case 'export':\n          await performExportCase(confirmAction.caseId, confirmAction.format);\n          break;\n        case 'renew':\n          await performRenewCase(confirmAction.caseId);\n          break;\n        case 'archive':\n          await performArchiveCase(confirmAction.caseRecord);\n          break;\n        case 'delete':\n          await performDeleteCase(confirmAction.caseId);\n          break;\n        default:\n          break;\n      }\n      setConfirmAction(null);\n    } finally {\n      setConfirmLoading(false);\n    }\n  };\n  const handleMarkNotification = async notificationId => {\n    try {\n      await apiMarkNotificationRead(notificationId);\n      await refreshNotifications();\n    } catch (error) {\n      console.error(error);\n      setNotificationsError('סימון ההתראה נכשל.');\n    }\n  };\n  useEffect(() => {\n    if (activeTab !== 'medical' || medicalInitialized) return;\n    let cancelled = false;\n    const loadDocuments = async () => {\n      setMedicalListLoading(true);\n      setMedicalError(null);\n      try {\n        const docs = await listKnowledgeDocuments({\n          docType: 'chapter',\n          limit: 25\n        });\n        if (!cancelled) {\n          var _docs$0$id, _docs$;\n          setMedicalDocs(docs);\n          setSelectedMedicalId((_docs$0$id = (_docs$ = docs[0]) === null || _docs$ === void 0 ? void 0 : _docs$.id) !== null && _docs$0$id !== void 0 ? _docs$0$id : '');\n          setMedicalInitialized(true);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת מסמכי ניתוח רפואי נכשלה.');\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalListLoading(false);\n        }\n      }\n    };\n    loadDocuments();\n    return () => {\n      cancelled = true;\n    };\n  }, [activeTab, medicalInitialized]);\n  useEffect(() => {\n    if (activeTab !== 'cases') return;\n    refreshCaseLists();\n    refreshNotifications();\n  }, [activeTab, refreshCaseLists, refreshNotifications]);\n  useEffect(() => {\n    if (activeTab !== 'medical') return;\n    if (!selectedMedicalId) {\n      setMedicalDetail(null);\n      return;\n    }\n    let cancelled = false;\n    setMedicalDetailLoading(true);\n    setMedicalError(null);\n    const loadDetail = async () => {\n      try {\n        const doc = await getKnowledgeDocument(selectedMedicalId);\n        if (!cancelled) {\n          setMedicalDetail(doc);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת ניתוח רפואי נכשלה.');\n          setMedicalDetail(null);\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalDetailLoading(false);\n        }\n      }\n    };\n    loadDetail();\n    return () => {\n      cancelled = true;\n    };\n  }, [activeTab, selectedMedicalId]);\n  const refreshMedicalDetail = useCallback(async () => {\n    if (!selectedMedicalId) return;\n    try {\n      const doc = await getKnowledgeDocument(selectedMedicalId);\n      setMedicalDetail(doc);\n    } catch (error) {\n      console.error(error);\n      setMedicalError('טעינת הניתוח הרפואי נכשלה.');\n    }\n  }, [selectedMedicalId]);\n  const requiresHumanExpert = medicalDetail === null || medicalDetail === void 0 ? void 0 : (_medicalDetail$flags = medicalDetail.flags) === null || _medicalDetail$flags === void 0 ? void 0 : _medicalDetail$flags.some(flag => flag.code === 'HUMAN_EXPERT_REQUIRED');\n  const hasAssertionConflict = Boolean(medicalDetail === null || medicalDetail === void 0 ? void 0 : (_medicalDetail$claims = medicalDetail.claims) === null || _medicalDetail$claims === void 0 ? void 0 : _medicalDetail$claims.some(claim => claim.assertionType === 'FACT')) && Boolean(medicalDetail === null || medicalDetail === void 0 ? void 0 : (_medicalDetail$flags2 = medicalDetail.flags) === null || _medicalDetail$flags2 === void 0 ? void 0 : _medicalDetail$flags2.some(flag => flag.severity === 'critical'));\n  const knowledgeView = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `border-2 border-dashed rounded-card p-6 text-center transition ${dragActive ? 'border-gold bg-gold/5' : 'border-pearl bg-pearl/40'}`,\n      onDragOver: handleDrag,\n      onDragLeave: handleDrag,\n      onDrop: handleDrop,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        ref: fileInputRef,\n        className: \"hidden\",\n        accept: \"application/pdf\",\n        onChange: event => handlePdfSelection(event.target.files)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UploadCloud, {\n        className: \"w-10 h-10 text-slate-light mx-auto mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg font-semibold text-navy\",\n        children: \"\\u05D2\\u05E8\\u05E8\\u05D5 \\u05E7\\u05D5\\u05D1\\u05E5 PDF \\u05E9\\u05DC \\u05E4\\u05E8\\u05E7 \\\"\\u05EA\\u05D7\\u05E9\\u05D9\\u05D1\\u05D9 \\u05E0\\u05D6\\u05E7\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-slate mt-2\",\n        children: \"\\u05D4\\u05E7\\u05D1\\u05E6\\u05D9\\u05DD \\u05DE\\u05E2\\u05D5\\u05D1\\u05D3\\u05D9\\u05DD \\u05D5\\u05DE\\u05E0\\u05D5\\u05E1\\u05D7\\u05D9\\u05DD \\u05D1\\u05E9\\u05E8\\u05EA \\u05D4\\u05DE\\u05D0\\u05D5\\u05D1\\u05D8\\u05D7 \\u2013 \\u05DB\\u05D5\\u05DC\\u05DC \\u05E8\\u05D9\\u05E9\\u05D5\\u05DD Audit \\u05D0\\u05D5\\u05D8\\u05D5\\u05DE\\u05D8\\u05D9.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 flex flex-col sm:flex-row items-center justify-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: triggerFilePicker,\n          className: \"btn-secondary px-6\",\n          disabled: importing,\n          children: \"\\u05D1\\u05D7\\u05E8 \\u05E7\\u05D5\\u05D1\\u05E5 PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 11\n        }, this), importing && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader-inline\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"loader-inline__icon\",\n            \"aria-hidden\": \"true\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 15\n          }, this), \"\\u05DE\\u05E2\\u05D1\\u05D3 \\u05E7\\u05D5\\u05D1\\u05E5...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), importMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-sm text-slate mt-3\",\n        children: importMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 468,\n        columnNumber: 27\n      }, this), importInsights.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4 text-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs font-bold text-slate-light mb-2\",\n          children: \"\\u05EA\\u05D5\\u05D1\\u05E0\\u05D5\\u05EA \\u05E9\\u05D4\\u05D5\\u05E4\\u05E7\\u05D5:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-1 text-sm text-slate\",\n          children: importInsights.map(insight => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"rounded-card border border-pearl bg-white px-3 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-semibold\",\n              children: [insight.title, \": \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 19\n            }, this), insight.content]\n          }, insight.title, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card-shell\",\n        onSubmit: e => {\n          e.preventDefault();\n          handleSaveChapter();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 492,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Book, {\n              className: \"w-5 h-5 text-gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), \" \\u05D4\\u05D5\\u05E1\\u05E3 \\u05E4\\u05E8\\u05E7 \\u05D7\\u05D3\\u05E9\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\",\n            placeholder: \"\\u05DB\\u05D5\\u05EA\\u05E8\\u05EA \\u05D4\\u05E4\\u05E8\\u05E7\",\n            value: newChapter.title || '',\n            onChange: e => setNewChapter(prev => ({\n              ...prev,\n              title: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm h-24 focus:border-gold\",\n            placeholder: \"\\u05EA\\u05D5\\u05DB\\u05DF / \\u05EA\\u05E7\\u05E6\\u05D9\\u05E8\",\n            value: newChapter.content || '',\n            onChange: e => setNewChapter(prev => ({\n              ...prev,\n              content: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\",\n            placeholder: \"\\u05EA\\u05D2\\u05D9\\u05D5\\u05EA (\\u05DE\\u05D5\\u05E4\\u05E8\\u05D3\\u05D5\\u05EA \\u05D1\\u05E4\\u05E1\\u05D9\\u05E7)\",\n            value: (newChapter.tags || []).join(', '),\n            onChange: e => setNewChapter(prev => ({\n              ...prev,\n              tags: e.target.value.split(',').map(tag => tag.trim()).filter(Boolean)\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm h-20 focus:border-gold\",\n            placeholder: \"\\u05DB\\u05DC\\u05DC\\u05D9\\u05DD (\\u05DB\\u05DC \\u05E9\\u05D5\\u05E8\\u05D4 \\u05DB\\u05DC\\u05DC \\u05D7\\u05D3\\u05E9)\",\n            value: (newChapter.rules || []).join('\\n'),\n            onChange: e => setNewChapter(prev => ({\n              ...prev,\n              rules: e.target.value.split('\\n').map(rule => rule.trim()).filter(Boolean)\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-secondary w-full justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 15\n            }, this), \" \\u05E9\\u05DE\\u05D5\\u05E8 \\u05E4\\u05E8\\u05E7\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 540,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"card-shell\",\n        onSubmit: e => {\n          e.preventDefault();\n          handleSavePrecedent();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-bold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Gavel, {\n              className: \"w-5 h-5 text-gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 15\n            }, this), \" \\u05D4\\u05D5\\u05E1\\u05E3 \\u05EA\\u05E7\\u05D3\\u05D9\\u05DD \\u05D7\\u05D3\\u05E9\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\",\n            placeholder: \"\\u05E9\\u05DD \\u05D4\\u05D4\\u05DC\\u05D9\\u05DA / \\u05EA\\u05E7\\u05D3\\u05D9\\u05DD\",\n            value: newPrecedent.caseName || '',\n            onChange: e => setNewPrecedent(prev => ({\n              ...prev,\n              caseName: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm h-24 focus:border-gold\",\n            placeholder: \"\\u05EA\\u05D5\\u05D1\\u05E0\\u05D4 \\u05DE\\u05E8\\u05DB\\u05D6\\u05D9\\u05EA\",\n            value: newPrecedent.keyTakeaway || '',\n            onChange: e => setNewPrecedent(prev => ({\n              ...prev,\n              keyTakeaway: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\",\n            placeholder: \"\\u05E6\\u05D9\\u05D5\\u05DF / \\u05DE\\u05E7\\u05D5\\u05E8\",\n            value: newPrecedent.citation || '',\n            onChange: e => setNewPrecedent(prev => ({\n              ...prev,\n              citation: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\",\n            placeholder: \"\\u05EA\\u05D2\\u05D9\\u05D5\\u05EA (\\u05DE\\u05D5\\u05E4\\u05E8\\u05D3\\u05D5\\u05EA \\u05D1\\u05E4\\u05E1\\u05D9\\u05E7)\",\n            value: (newPrecedent.tags || []).join(', '),\n            onChange: e => setNewPrecedent(prev => ({\n              ...prev,\n              tags: e.target.value.split(',').map(tag => tag.trim()).filter(Boolean)\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-secondary w-full justify-center\",\n            children: [/*#__PURE__*/_jsxDEV(Save, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 15\n            }, this), \" \\u05E9\\u05DE\\u05D5\\u05E8 \\u05EA\\u05E7\\u05D3\\u05D9\\u05DD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid md:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-shell\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Book, {\n              className: \"w-4 h-4 text-gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 15\n            }, this), \" \\u05E4\\u05E8\\u05E7\\u05D9\\u05DD \\u05E7\\u05D9\\u05D9\\u05DE\\u05D9\\u05DD (\", brain.book.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body space-y-3\",\n          children: brain.book.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"state-block text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Book, {\n              className: \"state-block__icon\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 612,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"state-block__title\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05E4\\u05E8\\u05E7\\u05D9\\u05DD \\u05E9\\u05DE\\u05D5\\u05E8\\u05D9\\u05DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"state-block__description\",\n              children: \"\\u05DB\\u05E9\\u05D9\\u05D5\\u05D6\\u05E0\\u05D5 \\u05E4\\u05E8\\u05E7\\u05D9\\u05DD \\u05D7\\u05D3\\u05E9\\u05D9\\u05DD \\u05D4\\u05DD \\u05D9\\u05EA\\u05D5\\u05D5\\u05E1\\u05E4\\u05D5 \\u05D0\\u05D5\\u05D8\\u05D5\\u05DE\\u05D8\\u05D9\\u05EA \\u05DC\\u05E8\\u05E9\\u05D9\\u05DE\\u05D4.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-3\",\n            children: brain.book.slice(0, 4).map(chapter => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mini-card space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-navy\",\n                children: chapter.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 620,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-light overflow-hidden text-ellipsis whitespace-nowrap\",\n                children: chapter.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 621,\n                columnNumber: 21\n              }, this)]\n            }, chapter.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-shell\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Gavel, {\n              className: \"w-4 h-4 text-gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this), \" \\u05EA\\u05E7\\u05D3\\u05D9\\u05DE\\u05D9\\u05DD (\", brain.precedents.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 633,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 632,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body space-y-3\",\n          children: brain.precedents.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"state-block text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(Gavel, {\n              className: \"state-block__icon\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"state-block__title\",\n              children: \"\\u05D0\\u05D9\\u05DF \\u05EA\\u05E7\\u05D3\\u05D9\\u05DE\\u05D9\\u05DD \\u05E9\\u05DE\\u05D5\\u05E8\\u05D9\\u05DD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"state-block__description\",\n              children: \"\\u05D4\\u05D5\\u05E1\\u05E3 \\u05EA\\u05E7\\u05D3\\u05D9\\u05DD \\u05D7\\u05D3\\u05E9 \\u05DB\\u05D3\\u05D9 \\u05DC\\u05D4\\u05EA\\u05D7\\u05D9\\u05DC \\u05DC\\u05D1\\u05E0\\u05D5\\u05EA \\u05E1\\u05E4\\u05E8\\u05D9\\u05D9\\u05D4 \\u05DE\\u05E9\\u05E4\\u05D8\\u05D9\\u05EA \\u05E4\\u05E0\\u05D9\\u05DE\\u05D9\\u05EA.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-3\",\n            children: brain.precedents.slice(0, 4).map(precedent => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"mini-card space-y-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"font-semibold text-navy\",\n                children: precedent.caseName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 649,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-light overflow-hidden text-ellipsis whitespace-nowrap\",\n                children: precedent.keyTakeaway\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 650,\n                columnNumber: 21\n              }, this)]\n            }, precedent.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 648,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 600,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 5\n  }, this);\n  const caseStatusLabel = {\n    ACTIVE: 'פעיל',\n    ARCHIVED: 'בארכיון',\n    PENDING_DELETE: 'ממתין למחיקה'\n  };\n  const caseStatusStyle = {\n    ACTIVE: 'bg-gold/20 text-navy',\n    ARCHIVED: 'bg-slate-light/30 text-navy',\n    PENDING_DELETE: 'bg-danger/10 text-danger'\n  };\n  const renderStatusBadge = status => /*#__PURE__*/_jsxDEV(\"span\", {\n    className: `inline-flex items-center rounded px-2 py-0.5 text-xs font-semibold ${caseStatusStyle[status]}`,\n    children: caseStatusLabel[status]\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 676,\n    columnNumber: 5\n  }, this);\n  const renderDaysIndicator = days => {\n    if (days === undefined) return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs text-slate-500\",\n      children: \"\\u05DC\\u05DC\\u05D0 \\u05DE\\u05D9\\u05D3\\u05E2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 36\n    }, this);\n    if (days === 0) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-danger font-semibold\",\n        children: \"\\u05E4\\u05D7\\u05D5\\u05EA \\u05DE-24 \\u05E9\\u05E2\\u05D5\\u05EA \\u05DC\\u05DE\\u05D7\\u05D9\\u05E7\\u05D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 14\n      }, this);\n    }\n    const tone = days <= 3 ? 'text-danger font-semibold' : days <= 15 ? 'text-gold font-semibold' : 'text-slate-light';\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: `text-xs ${tone}`,\n      dir: \"ltr\",\n      children: [\"\\u05E0\\u05D5\\u05EA\\u05E8\\u05D5 \", days, \" \\u05D9\\u05DE\\u05D9\\u05DD\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 7\n    }, this);\n  };\n  const CaseCard = ({\n    item,\n    variant\n  }) => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `card-shell transition hover:shadow-2xl ${variant === 'owner' ? 'cursor-pointer' : ''}`,\n    onClick: variant === 'owner' ? () => handleSelectCaseDetail(item.id) : undefined,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-accent\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 706,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-head\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-base font-semibold\",\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 709,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-slate-light truncate\",\n          children: item.topicSummary\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 710,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: variant === 'owner' ? 'badge-owner' : 'badge-readonly',\n        children: variant === 'owner' ? 'שלי' : 'קריאה בלבד'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 712,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-underline\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-body space-y-2 text-sm text-slate\",\n      children: variant === 'owner' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap items-center gap-2\",\n          children: [renderStatusBadge(item.status), renderDaysIndicator(item.daysRemaining)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-4 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u05E0\\u05D5\\u05E6\\u05E8: \", new Date(item.createdAt).toLocaleDateString('he-IL')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 15\n          }, this), item.lastAccessedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u05E2\\u05D5\\u05D3\\u05DB\\u05DF: \", new Date(item.lastAccessedAt).toLocaleDateString('he-IL')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 726,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-slate-light\",\n        children: [\"\\u05E2\\u05D5\\u05D3\\u05DB\\u05DF: \", new Date(item.createdAt).toLocaleDateString('he-IL')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 730,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 702,\n    columnNumber: 5\n  }, this);\n  const casesView = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"card-shell\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-accent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 741,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-head\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Layout, {\n              className: \"w-5 h-5 text-gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 745,\n              columnNumber: 15\n            }, this), \" \\u05E0\\u05D9\\u05D4\\u05D5\\u05DC \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 744,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate-light\",\n            children: \"\\u05EA\\u05E6\\u05D5\\u05D2\\u05D4 \\u05DE\\u05E9\\u05E8\\u05D3\\u05D9\\u05EA \\u05E4\\u05E0\\u05D9\\u05DE\\u05D9\\u05EA \\u2013 \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05D0\\u05D9\\u05E9\\u05D9\\u05D9\\u05DD \\u05DC\\u05E6\\u05D3 \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05DC\\u05DC\\u05D9\\u05DE\\u05D5\\u05D3 \\u05D5\\u05D4\\u05E9\\u05D5\\u05D5\\u05D0\\u05D4.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AlertTriangle, {\n          className: \"w-5 h-5 text-gold-light\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 751,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-underline\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 753,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body text-sm text-slate\",\n        children: \"\\u05DE\\u05D7\\u05D9\\u05E7\\u05D4 \\u05D0\\u05D5\\u05D8\\u05D5\\u05DE\\u05D8\\u05D9\\u05EA \\u05DE\\u05EA\\u05D1\\u05E6\\u05E2\\u05EA \\u05DC\\u05D0\\u05D7\\u05E8 90 \\u05D9\\u05D5\\u05DD. \\u05DE\\u05D5\\u05DE\\u05DC\\u05E5 \\u05DC\\u05EA\\u05D9\\u05D9\\u05E7 \\u05D0\\u05D5 \\u05DC\\u05D9\\u05D9\\u05E6\\u05D0 \\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD \\u05D8\\u05E8\\u05DD \\u05D4\\u05DE\\u05D7\\u05D9\\u05E7\\u05D4.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 754,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 740,\n      columnNumber: 7\n    }, this), caseListError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"state-block state-block--error text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"state-block__icon\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 761,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__title\",\n        children: \"\\u05D8\\u05E2\\u05D9\\u05E0\\u05EA \\u05D4\\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05E0\\u05DB\\u05E9\\u05DC\\u05D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 762,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__description\",\n        children: caseListError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 763,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 760,\n      columnNumber: 9\n    }, this), caseListLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-inline\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"loader-inline__icon\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 768,\n        columnNumber: 11\n      }, this), \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9 \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 767,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-6 lg:grid-cols-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-slate\",\n          children: [\"\\u05D4\\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05E9\\u05DC\\u05D9 (\", caseLists.ownCases.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 775,\n          columnNumber: 11\n        }, this), caseLists.ownCases.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-shell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-accent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 778,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"state-block text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Layout, {\n                className: \"state-block__icon\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"state-block__title\",\n                children: \"\\u05D0\\u05D9\\u05DF \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05D1\\u05D1\\u05E2\\u05DC\\u05D5\\u05EA\\u05DA \\u05DB\\u05E8\\u05D2\\u05E2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"state-block__description\",\n                children: \"\\u05E6\\u05D5\\u05E8 \\u05EA\\u05D9\\u05E7 \\u05D7\\u05D3\\u05E9 \\u05D0\\u05D5 \\u05D9\\u05D1\\u05D5\\u05D0 \\u05EA\\u05D9\\u05E7 \\u05E7\\u05D9\\u05D9\\u05DD \\u05DB\\u05D3\\u05D9 \\u05DC\\u05D4\\u05EA\\u05D7\\u05D9\\u05DC \\u05D1\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 783,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 780,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 779,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: caseLists.ownCases.map(item => /*#__PURE__*/_jsxDEV(CaseCard, {\n            item: item,\n            variant: \"owner\"\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 790,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 774,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-sm font-semibold text-slate\",\n          children: [\"\\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05D0\\u05D7\\u05E8\\u05D9\\u05DD (\", caseLists.otherCases.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 11\n        }, this), caseLists.otherCases.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-shell\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-accent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"state-block text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(Layout, {\n                className: \"state-block__icon\",\n                \"aria-hidden\": \"true\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 803,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"state-block__title\",\n                children: \"\\u05D0\\u05D9\\u05DF \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD \\u05D7\\u05D9\\u05E6\\u05D5\\u05E0\\u05D9\\u05D9\\u05DD \\u05DC\\u05D4\\u05E9\\u05D5\\u05D5\\u05D0\\u05D4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 804,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"state-block__description\",\n                children: \"\\u05DB\\u05E9\\u05EA\\u05D5\\u05E7\\u05E6\\u05D4 \\u05D2\\u05D9\\u05E9\\u05D4 \\u05DC\\u05EA\\u05D9\\u05E7\\u05D9 \\u05DC\\u05D9\\u05DE\\u05D5\\u05D3, \\u05D4\\u05DD \\u05D9\\u05D5\\u05E4\\u05D9\\u05E2\\u05D5 \\u05D1\\u05D0\\u05D6\\u05D5\\u05E8 \\u05D6\\u05D4.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 805,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 802,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 801,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: caseLists.otherCases.map(item => /*#__PURE__*/_jsxDEV(CaseCard, {\n            item: item,\n            variant: \"readonly\"\n          }, item.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 812,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 773,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-6 lg:grid-cols-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-shell lg:col-span-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-base font-semibold\",\n            children: \"\\u05E4\\u05E8\\u05D8\\u05D9 \\u05EA\\u05D9\\u05E7 \\u05E0\\u05D1\\u05D7\\u05E8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 13\n          }, this), selectedCase && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"badge-status\",\n            children: selectedCase.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 822,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 826,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body text-sm text-slate space-y-3\",\n          children: selectedCase ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap items-center gap-2\",\n              children: [renderStatusBadge(selectedCase.status), renderDaysIndicator(selectedCase.daysRemaining)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-slate-light mb-1\",\n                children: \"\\u05E0\\u05D5\\u05E9\\u05D0 \\u05D1\\u05D8\\u05D5\\u05D7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"w-full rounded-2xl border border-pearl bg-pearl/60 p-3 text-sm focus:border-gold focus:ring-1 focus:ring-gold outline-none transition\",\n                rows: 3,\n                value: subjectDraft,\n                onChange: e => setSubjectDraft(e.target.value),\n                placeholder: \"\\u05EA\\u05D9\\u05D0\\u05D5\\u05E8 \\u05DE\\u05D9\\u05DC\\u05D5\\u05DC\\u05D9 \\u05E7\\u05E6\\u05E8 \\u05E9\\u05DC \\u05D4\\u05EA\\u05D9\\u05E7...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 836,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-2 flex justify-end\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: handleSaveMetadata,\n                  className: \"btn-primary text-xs px-4 py-1.5\",\n                  children: \"\\u05E9\\u05DE\\u05D5\\u05E8 \\u05E0\\u05D5\\u05E9\\u05D0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 844,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 843,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-slate-light flex flex-wrap gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u05E0\\u05D5\\u05E6\\u05E8: \", new Date(selectedCase.createdAt).toLocaleString('he-IL')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 850,\n                columnNumber: 19\n              }, this), selectedCase.lastAccessedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"\\u05D2\\u05D9\\u05E9\\u05D4 \\u05D0\\u05D7\\u05E8\\u05D5\\u05E0\\u05D4: \", new Date(selectedCase.lastAccessedAt).toLocaleString('he-IL')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 852,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-4 flex flex-wrap gap-2 border-t border-pearl/60\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-primary text-xs px-4 py-1.5\",\n                onClick: () => setConfirmAction({\n                  kind: 'export',\n                  format: 'pdf',\n                  caseId: selectedCase.id,\n                  caseTitle: selectedCase.title\n                }),\n                children: \"\\u05D9\\u05D9\\u05E6\\u05D0 PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 856,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-secondary text-xs px-4 py-1.5\",\n                onClick: () => setConfirmAction({\n                  kind: 'export',\n                  format: 'json',\n                  caseId: selectedCase.id,\n                  caseTitle: selectedCase.title\n                }),\n                children: \"\\u05D9\\u05D9\\u05E6\\u05D0 JSON\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-outline text-xs px-4 py-1.5\",\n                onClick: () => setConfirmAction({\n                  kind: 'renew',\n                  caseId: selectedCase.id,\n                  caseTitle: selectedCase.title\n                }),\n                children: \"\\u05D7\\u05D3\\u05E9 \\u05EA\\u05D9\\u05E7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 882,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-outline text-xs px-4 py-1.5\",\n                onClick: () => setConfirmAction({\n                  kind: 'archive',\n                  caseRecord: selectedCase\n                }),\n                children: selectedCase.status === 'ARCHIVED' ? 'בטל ארכיון' : 'העבר לארכיון'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-outline text-xs px-4 py-1.5 border-danger text-danger hover:bg-danger/10\",\n                onClick: () => setConfirmAction({\n                  kind: 'delete',\n                  caseId: selectedCase.id,\n                  caseTitle: selectedCase.title\n                }),\n                children: \"\\u05DE\\u05D7\\u05D9\\u05E7\\u05D4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 905,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 855,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate\",\n            children: \"\\u05D1\\u05D7\\u05E8 \\u05EA\\u05D9\\u05E7 \\u05DE\\u05D4\\u05E8\\u05E9\\u05D9\\u05DE\\u05D4 \\u05DC\\u05D4\\u05E6\\u05D2\\u05EA \\u05E4\\u05E8\\u05D8\\u05D9\\u05DD.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 920,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-shell\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 926,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-base font-semibold flex items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Bell, {\n              className: \"w-4 h-4 text-gold\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 929,\n              columnNumber: 15\n            }, this), \"\\u05D4\\u05EA\\u05E8\\u05D0\\u05D5\\u05EA \\u05E9\\u05DE\\u05D9\\u05E8\\u05D4\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 928,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 927,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 933,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body space-y-2 text-sm text-slate\",\n          children: [notificationsError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"state-block state-block--error text-xs\",\n            children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n              className: \"state-block__icon\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 937,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"state-block__title text-sm\",\n              children: \"\\u05E9\\u05D2\\u05D9\\u05D0\\u05D4 \\u05D1\\u05D8\\u05E2\\u05D9\\u05E0\\u05EA \\u05D4\\u05EA\\u05E8\\u05D0\\u05D5\\u05EA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 938,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"state-block__description\",\n              children: notificationsError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 939,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 936,\n            columnNumber: 15\n          }, this), notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate\",\n            children: \"\\u05D0\\u05D9\\u05DF \\u05D4\\u05EA\\u05E8\\u05D0\\u05D5\\u05EA \\u05E4\\u05E2\\u05D9\\u05DC\\u05D5\\u05EA.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 943,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"space-y-2\",\n            children: notifications.map(notification => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"rounded-2xl border border-pearl bg-pearl/40 p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-slate\",\n                children: notification.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 948,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-[11px] text-slate-light mt-1\",\n                children: new Date(notification.createdAt).toLocaleString('he-IL')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 949,\n                columnNumber: 21\n              }, this), !notification.readAt && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"mt-2 text-xs text-gold hover:text-gold-light\",\n                onClick: () => handleMarkNotification(notification.id),\n                children: \"\\u05E1\\u05DE\\u05DF \\u05DB\\u05E0\\u05E7\\u05E8\\u05D0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 953,\n                columnNumber: 23\n              }, this)]\n            }, notification.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 947,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 934,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 925,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 739,\n    columnNumber: 5\n  }, this);\n  const medicalView = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-4 md:flex-row md:items-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"text-xs font-semibold text-slate-500\",\n          children: \"\\u05D1\\u05D7\\u05E8 \\u05DE\\u05E1\\u05DE\\u05DA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 974,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"mt-1 w-full rounded border border-slate-300 p-2 text-sm\",\n          value: selectedMedicalId,\n          onChange: e => setSelectedMedicalId(e.target.value),\n          disabled: !medicalDocs.length || medicalListLoading,\n          children: [medicalDocs.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: doc.id,\n            children: doc.title\n          }, doc.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 982,\n            columnNumber: 15\n          }, this)), !medicalDocs.length && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 986,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 975,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 973,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"md:w-1/3\",\n        children: /*#__PURE__*/_jsxDEV(QualityBadge, {\n          score: medicalDetail === null || medicalDetail === void 0 ? void 0 : medicalDetail.score\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 990,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 989,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 972,\n      columnNumber: 7\n    }, this), (requiresHumanExpert || hasAssertionConflict) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"state-block state-block--error text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"state-block__icon\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 996,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__title\",\n        children: requiresHumanExpert ? 'נדרש מומחה אנושי' : 'זוהתה סתירה בין הטענות לדגלים'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 997,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__description\",\n        children: requiresHumanExpert ? 'קיים דגל HUMAN_EXPERT_REQUIRED. יש לערב מומחה רפואי לפני פעולה נוספת.' : 'זוהו טענות מסווגות כעובדה לצד דגלים קריטיים. מומלץ לעבור שוב על הממצאים לפני הסתמכות.'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 995,\n      columnNumber: 9\n    }, this), medicalError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"state-block state-block--error text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTriangle, {\n        className: \"state-block__icon\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1010,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__title\",\n        children: \"\\u05D8\\u05E2\\u05D9\\u05E0\\u05EA \\u05D4\\u05DE\\u05E1\\u05DE\\u05DA \\u05D4\\u05E8\\u05E4\\u05D5\\u05D0\\u05D9 \\u05E0\\u05DB\\u05E9\\u05DC\\u05D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1011,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__description\",\n        children: medicalError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1009,\n      columnNumber: 9\n    }, this), (medicalListLoading || medicalDetailLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loader-inline\",\n      children: [/*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"loader-inline__icon\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1018,\n        columnNumber: 11\n      }, this), \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9 \\u05E0\\u05D9\\u05EA\\u05D5\\u05D7 \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1017,\n      columnNumber: 9\n    }, this), !medicalListLoading && !medicalDetail && !medicalError && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"state-block text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(Book, {\n        className: \"state-block__icon\",\n        \"aria-hidden\": \"true\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1025,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__title\",\n        children: \"\\u05D0\\u05D9\\u05DF \\u05E0\\u05D9\\u05EA\\u05D5\\u05D7\\u05D9\\u05DD \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05D9\\u05DD \\u05DC\\u05D4\\u05E6\\u05D2\\u05D4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1026,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"state-block__description\",\n        children: \"\\u05D1\\u05D7\\u05E8 \\u05DE\\u05E1\\u05DE\\u05DA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9 \\u05DE\\u05D4\\u05E8\\u05E9\\u05D9\\u05DE\\u05D4 \\u05D0\\u05D5 \\u05D4\\u05E2\\u05DC\\u05D4 \\u05DE\\u05E1\\u05DE\\u05DA \\u05D7\\u05D3\\u05E9 \\u05DB\\u05D3\\u05D9 \\u05DC\\u05D4\\u05EA\\u05D7\\u05D9\\u05DC \\u05D1\\u05E0\\u05D9\\u05EA\\u05D5\\u05D7.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1027,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 9\n    }, this), medicalDetail && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(MedicalQualityBox, {\n        score: medicalDetail.medicalQualityScore,\n        findings: (_medicalDetail$qualit = medicalDetail.qualityFindings) !== null && _medicalDetail$qualit !== void 0 ? _medicalDetail$qualit : [],\n        reasoningFindings: (_medicalDetail$reason = medicalDetail.reasoningFindings) !== null && _medicalDetail$reason !== void 0 ? _medicalDetail$reason : []\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1033,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(KnowledgeFlags, {\n        flags: medicalDetail.flags || []\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1038,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(KnowledgeClaimsPanel, {\n        claims: medicalDetail.claims || [],\n        limit: 5\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(MedicalTimeline, {\n        events: medicalDetail.timeline || []\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LiteraturePanel, {\n        knowledgeId: medicalDetail.id,\n        resources: (_medicalDetail$litera = medicalDetail.literatureResources) !== null && _medicalDetail$litera !== void 0 ? _medicalDetail$litera : [],\n        onRefresh: refreshMedicalDetail\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(LegalDisclaimer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1048,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 971,\n    columnNumber: 5\n  }, this);\n  const contextModeLabel = activeTab === 'cases' ? 'ניהול תיקים משרדיים' : activeTab === 'knowledge' ? 'מרכז הידע הפנימי' : 'בקרה רפואית ותחקור';\n  const ribbonStatus = activeTab === 'cases' ? selectedCase === null || selectedCase === void 0 ? void 0 : selectedCase.status : undefined;\n  const ribbonCaseName = activeTab === 'cases' ? selectedCase === null || selectedCase === void 0 ? void 0 : selectedCase.title : undefined;\n  const ribbonReadOnly = activeTab === 'cases' ? !((_selectedCase$isOwner = selectedCase === null || selectedCase === void 0 ? void 0 : selectedCase.isOwner) !== null && _selectedCase$isOwner !== void 0 ? _selectedCase$isOwner : true) : false;\n  const confirmTitle = (() => {\n    if (!confirmAction) return '';\n    switch (confirmAction.kind) {\n      case 'export':\n        return 'אישור ייצוא תיק';\n      case 'renew':\n        return 'אישור חידוש תיק';\n      case 'archive':\n        return confirmAction.caseRecord.status === 'ARCHIVED' ? 'אישור ביטול ארכיון' : 'אישור העברה לארכיון';\n      case 'delete':\n        return 'אישור מחיקה סופית';\n      default:\n        return 'אישור פעולה';\n    }\n  })();\n  const confirmDescription = (() => {\n    if (!confirmAction) return '';\n    const base = confirmAction.kind === 'archive' ? confirmAction.caseRecord.title : confirmAction.caseTitle;\n    switch (confirmAction.kind) {\n      case 'export':\n        return `פעולה זו תייצא את התיק ${base !== null && base !== void 0 ? base : ''} בפורמט ${confirmAction.format.toUpperCase()} ותבוצע על ידי ${currentUserName}.`;\n      case 'renew':\n        return `פעולה זו תאפס את מועד המחיקה לתיק ${base !== null && base !== void 0 ? base : ''}. ${currentUserName} מאשר את ביצועה.`;\n      case 'archive':\n        return confirmAction.caseRecord.status === 'ARCHIVED' ? `התיק ${confirmAction.caseRecord.title} יחזור ממצב ארכיון. הפעולה מאושרת על ידי ${currentUserName}.` : `התיק ${confirmAction.caseRecord.title} יעבור לארכיון ויהיה לקריאה בלבד. הפעולה מאושרת על ידי ${currentUserName}.`;\n      case 'delete':\n        return `פעולה זו תמחק את התיק ${base !== null && base !== void 0 ? base : ''} לצמיתות ואינה ניתנת לשחזור. ${currentUserName} מאשר שהבין את המשמעות.`;\n      default:\n        return '';\n    }\n  })();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-pearl text-navy\",\n    dir: \"rtl\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"h-16 bg-navy text-gold flex items-center justify-between px-6 shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xl font-semibold brand-mark\",\n          children: \"LexMedical Admin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-gold-light hidden md:inline\",\n          children: \"\\u05E9\\u05DC\\u05D9\\u05D8\\u05D4 \\u05DE\\u05E9\\u05E8\\u05D3\\u05D9\\u05EA \\u05D1\\u05D7\\u05D5\\u05DE\\u05E8 \\u05D4\\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05BE\\u05DE\\u05E9\\u05E4\\u05D8\\u05D9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-4 text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-pearl\",\n          children: [\"\\u05DE\\u05D7\\u05D5\\u05D1\\u05E8: \", currentUserName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onLogout,\n          className: \"flex items-center gap-2 rounded-full border border-gold px-3 py-1 text-gold hover:bg-gold/10 transition\",\n          children: [/*#__PURE__*/_jsxDEV(LogOut, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1109,\n            columnNumber: 13\n          }, this), \" \\u05D9\\u05E6\\u05D9\\u05D0\\u05D4\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1099,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ContextRibbon, {\n      mode: contextModeLabel,\n      caseName: ribbonCaseName,\n      status: ribbonStatus,\n      isReadOnly: ribbonReadOnly,\n      onBack: () => window.history.back()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-6xl mx-auto px-6 py-8 space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-card border border-pearl bg-white p-6 shadow-card-xl flex flex-wrap items-center justify-between gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-slate\",\n            children: [\"\\u05E2\\u05D5\\u05D3\\u05DB\\u05DF \\u05DC\\u05D0\\u05D7\\u05E8\\u05D5\\u05E0\\u05D4: \", new Date(brain.lastUpdated).toLocaleString('he-IL')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1123,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-slate-light\",\n            children: \"\\u05DE\\u05DE\\u05E9\\u05E7 \\u05E4\\u05E0\\u05D9\\u05DE\\u05D9 \\u05DC\\u05E9\\u05D9\\u05DE\\u05D5\\u05E9 \\u05E2\\u05D5\\u05E8\\u05DB\\u05D9 \\u05D3\\u05D9\\u05DF \\u05D1\\u05DC\\u05D1\\u05D3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('knowledge'),\n            className: `rounded-full px-4 py-2 text-sm font-semibold flex items-center gap-2 ${activeTab === 'knowledge' ? 'bg-navy text-gold' : 'bg-pearl border border-pearl text-slate'}`,\n            children: [/*#__PURE__*/_jsxDEV(Book, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 15\n            }, this), \" \\u05D9\\u05D3\\u05E2\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('cases'),\n            className: `rounded-full px-4 py-2 text-sm font-semibold flex items-center gap-2 ${activeTab === 'cases' ? 'bg-navy text-gold' : 'bg-pearl border border-pearl text-slate'}`,\n            children: [/*#__PURE__*/_jsxDEV(Layout, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1141,\n              columnNumber: 15\n            }, this), \" \\u05EA\\u05D9\\u05E7\\u05D9\\u05DD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('medical'),\n            className: `rounded-full px-4 py-2 text-sm font-semibold flex items-center gap-2 ${activeTab === 'medical' ? 'bg-navy text-gold' : 'bg-pearl border border-pearl text-slate'}`,\n            children: [/*#__PURE__*/_jsxDEV(Activity, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 15\n            }, this), \" Medical Analysis\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1121,\n        columnNumber: 9\n      }, this), activeTab === 'knowledge' && knowledgeView, activeTab === 'cases' && casesView, activeTab === 'medical' && medicalView]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1120,\n      columnNumber: 7\n    }, this), confirmAction && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-shell max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-accent\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1160,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-head\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-base font-semibold\",\n            children: confirmTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1162,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: closeConfirmDialog,\n            className: \"text-xs text-slate-light hover:text-navy\",\n            \"aria-label\": \"\\u05D1\\u05D8\\u05DC \\u05E4\\u05E2\\u05D5\\u05DC\\u05D4\",\n            children: \"\\u05D1\\u05D9\\u05D8\\u05D5\\u05DC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1161,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-underline\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body space-y-3 text-sm text-slate\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: confirmDescription\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1174,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-xs text-slate-light\",\n            children: \"\\u05D4\\u05E4\\u05E2\\u05D5\\u05DC\\u05D4 \\u05EA\\u05E8\\u05E9\\u05DD \\u05D1\\u05DC\\u05D5\\u05D2 \\u05D4\\u05D0\\u05D5\\u05D3\\u05D9\\u05D8 \\u05D4\\u05DE\\u05E9\\u05E8\\u05D3\\u05D9.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end gap-3 pt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-outline text-xs px-4 py-1.5\",\n              onClick: closeConfirmDialog,\n              disabled: confirmLoading,\n              children: \"\\u05D1\\u05D9\\u05D8\\u05D5\\u05DC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn-primary text-xs px-4 py-1.5\",\n              onClick: handleConfirmDangerAction,\n              disabled: confirmLoading,\n              children: confirmLoading ? 'מבצע...' : 'אישור פעולה'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1180,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1176,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1158,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1098,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminDashboard, \"p/6Nbhs03dZgHShQofxrZEG34aY=\");\n_c = AdminDashboard;\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","saveBookChapter","saveGlobalPrecedent","getKnowledgeBase","uploadChapterPdf","isApiConfigured","listCases","apiListCases","getCase","apiGetCase","renewCase","apiRenewCase","archiveCase","apiArchiveCase","deleteCase","apiDeleteCase","exportCaseFile","apiExportCaseFile","updateCaseMetadata","apiUpdateCaseMetadata","listNotifications","apiListNotifications","markNotificationRead","apiMarkNotificationRead","listKnowledgeDocuments","getKnowledgeDocument","Book","Gavel","LogOut","Save","Layout","UploadCloud","Loader2","Activity","AlertTriangle","Bell","QualityBadge","KnowledgeClaimsPanel","KnowledgeFlags","MedicalTimeline","MedicalQualityBox","LiteraturePanel","ContextRibbon","LegalDisclaimer","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminDashboard","currentUserName","onEditCase","_onEditCase","onLogout","_s","_medicalDetail$flags","_medicalDetail$claims","_medicalDetail$flags2","_medicalDetail$qualit","_medicalDetail$reason","_medicalDetail$litera","_selectedCase$isOwner","activeTab","setActiveTab","brain","setBrain","newChapter","setNewChapter","title","content","tags","rules","newPrecedent","setNewPrecedent","caseName","keyTakeaway","importing","setImporting","importMessage","setImportMessage","importInsights","setImportInsights","dragActive","setDragActive","fileInputRef","medicalDocs","setMedicalDocs","selectedMedicalId","setSelectedMedicalId","medicalDetail","setMedicalDetail","medicalInitialized","setMedicalInitialized","medicalListLoading","setMedicalListLoading","medicalDetailLoading","setMedicalDetailLoading","medicalError","setMedicalError","caseLists","setCaseLists","ownCases","otherCases","caseListLoading","setCaseListLoading","caseListError","setCaseListError","selectedCase","setSelectedCase","subjectDraft","setSubjectDraft","notifications","setNotifications","notificationsError","setNotificationsError","confirmAction","setConfirmAction","confirmLoading","setConfirmLoading","handleSaveChapter","chapter","id","Date","now","toString","handleSavePrecedent","precedent","citation","relevantIssues","importChapterFile","file","name","backendResult","docType","summary","insights","error","console","current","value","handlePdfSelection","files","length","type","handleDrop","event","preventDefault","dataTransfer","handleDrag","triggerFilePicker","_fileInputRef$current","click","refreshCaseLists","payload","find","entry","_payload$ownCases$0$t","topicSummary","refreshNotifications","items","handleSelectCaseDetail","caseId","_detail$topicSummary","detail","performExportCase","format","blob","url","URL","createObjectURL","link","document","createElement","href","download","body","appendChild","remove","revokeObjectURL","performRenewCase","_detail$topicSummary2","performArchiveCase","caseRecord","status","performDeleteCase","handleSaveMetadata","updated","trim","undefined","closeConfirmDialog","handleConfirmDangerAction","kind","handleMarkNotification","notificationId","cancelled","loadDocuments","docs","limit","_docs$0$id","_docs$","loadDetail","doc","refreshMedicalDetail","requiresHumanExpert","flags","some","flag","code","hasAssertionConflict","Boolean","claims","claim","assertionType","severity","knowledgeView","className","children","onDragOver","onDragLeave","onDrop","ref","accept","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","insight","onSubmit","e","placeholder","prev","join","split","tag","filter","rule","book","slice","precedents","caseStatusLabel","ACTIVE","ARCHIVED","PENDING_DELETE","caseStatusStyle","renderStatusBadge","renderDaysIndicator","days","tone","dir","CaseCard","item","variant","daysRemaining","createdAt","toLocaleDateString","lastAccessedAt","casesView","rows","toLocaleString","caseTitle","notification","message","readAt","medicalView","score","medicalQualityScore","findings","qualityFindings","reasoningFindings","events","timeline","knowledgeId","resources","literatureResources","onRefresh","contextModeLabel","ribbonStatus","ribbonCaseName","ribbonReadOnly","isOwner","confirmTitle","confirmDescription","base","toUpperCase","mode","isReadOnly","onBack","window","history","back","lastUpdated","role","_c","$RefreshReg$"],"sources":["C:/Office-Apps/LexMedical-App/src/components/AdminDashboard.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport {\r\n  BookChapter,\r\n  GlobalPrecedent,\r\n  CaseData,\r\n  CaseRecord,\r\n  CaseSummaryRecord,\r\n  NotificationRecord,\r\n  AIInsight,\r\n  KnowledgeDocumentSummary,\r\n  KnowledgeDocumentDetail,\r\n} from '../types';\r\nimport { saveBookChapter, saveGlobalPrecedent, getKnowledgeBase } from '../services/knowledgeBase';\r\nimport {\r\n  uploadChapterPdf,\r\n  isApiConfigured,\r\n  listCases as apiListCases,\r\n  getCase as apiGetCase,\r\n  renewCase as apiRenewCase,\r\n  archiveCase as apiArchiveCase,\r\n  deleteCase as apiDeleteCase,\r\n  exportCaseFile as apiExportCaseFile,\r\n  updateCaseMetadata as apiUpdateCaseMetadata,\r\n  listNotifications as apiListNotifications,\r\n  markNotificationRead as apiMarkNotificationRead,\r\n} from '../services/api';\r\nimport { listKnowledgeDocuments, getKnowledgeDocument } from '../services/knowledgeApi';\r\nimport {\r\n  Book,\r\n  Gavel,\r\n  LogOut,\r\n  Save,\r\n  Layout,\r\n  UploadCloud,\r\n  Loader2,\r\n  Activity,\r\n  AlertTriangle,\r\n  Bell,\r\n} from 'lucide-react';\r\nimport QualityBadge from './QualityBadge';\r\nimport KnowledgeClaimsPanel from './KnowledgeClaimsPanel';\r\nimport KnowledgeFlags from './KnowledgeFlags';\r\nimport MedicalTimeline from './MedicalTimeline';\r\nimport MedicalQualityBox from './MedicalQualityBox';\r\nimport LiteraturePanel from './LiteraturePanel';\r\nimport ContextRibbon from './ContextRibbon';\r\nimport LegalDisclaimer from './LegalDisclaimer';\r\n\r\ninterface Props {\r\n  currentUserName: string;\r\n  onEditCase: (caseData: CaseData) => void;\r\n  onLogout: () => void;\r\n}\r\n\r\ntype ConfirmAction =\r\n  | { kind: 'export'; format: 'pdf' | 'json'; caseId: string; caseTitle?: string }\r\n  | { kind: 'renew'; caseId: string; caseTitle?: string }\r\n  | { kind: 'archive'; caseRecord: CaseRecord }\r\n  | { kind: 'delete'; caseId: string; caseTitle?: string };\r\n\r\nconst AdminDashboard: React.FC<Props> = ({ currentUserName, onEditCase: _onEditCase, onLogout }) => {\r\n  const [activeTab, setActiveTab] = useState<'cases' | 'knowledge' | 'medical'>('knowledge');\r\n  const [brain, setBrain] = useState(getKnowledgeBase());\r\n  const [newChapter, setNewChapter] = useState<Partial<BookChapter>>({ title: '', content: '', tags: [], rules: [] });\r\n  const [newPrecedent, setNewPrecedent] = useState<Partial<GlobalPrecedent>>({ caseName: '', keyTakeaway: '', tags: [] });\r\n  const [importing, setImporting] = useState(false);\r\n  const [importMessage, setImportMessage] = useState('');\r\n  const [importInsights, setImportInsights] = useState<AIInsight[]>([]);\r\n  const [dragActive, setDragActive] = useState(false);\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [medicalDocs, setMedicalDocs] = useState<KnowledgeDocumentSummary[]>([]);\r\n  const [selectedMedicalId, setSelectedMedicalId] = useState<string>('');\r\n  const [medicalDetail, setMedicalDetail] = useState<KnowledgeDocumentDetail | null>(null);\r\n  const [medicalInitialized, setMedicalInitialized] = useState(false);\r\n  const [medicalListLoading, setMedicalListLoading] = useState(false);\r\n  const [medicalDetailLoading, setMedicalDetailLoading] = useState(false);\r\n  const [medicalError, setMedicalError] = useState<string | null>(null);\r\n  const [caseLists, setCaseLists] = useState<{ ownCases: CaseRecord[]; otherCases: CaseSummaryRecord[] }>({\r\n    ownCases: [],\r\n    otherCases: [],\r\n  });\r\n  const [caseListLoading, setCaseListLoading] = useState(false);\r\n  const [caseListError, setCaseListError] = useState<string | null>(null);\r\n  const [selectedCase, setSelectedCase] = useState<CaseRecord | null>(null);\r\n  const [subjectDraft, setSubjectDraft] = useState('');\r\n  const [notifications, setNotifications] = useState<NotificationRecord[]>([]);\r\n  const [notificationsError, setNotificationsError] = useState<string | null>(null);\r\n  const [confirmAction, setConfirmAction] = useState<ConfirmAction | null>(null);\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n\r\n  const handleSaveChapter = () => {\r\n    if (!newChapter.title || !newChapter.content) {\r\n      setImportMessage('חובה למלא כותרת ותוכן לפרק.');\r\n      return;\r\n    }\r\n    const chapter: BookChapter = {\r\n      id: Date.now().toString(),\r\n      title: newChapter.title!,\r\n      content: newChapter.content!,\r\n      tags: newChapter.tags || [],\r\n      rules: newChapter.rules || [],\r\n    };\r\n    saveBookChapter(chapter);\r\n    setBrain(getKnowledgeBase());\r\n    setNewChapter({ title: '', content: '', tags: [], rules: [] });\r\n    setImportMessage('הפרק נשמר בהצלחה במאגר הפנימי.');\r\n  };\r\n\r\n  const handleSavePrecedent = () => {\r\n    if (!newPrecedent.caseName || !newPrecedent.keyTakeaway) {\r\n      setImportMessage('חובה למלא שם ותובנה לפני שמירת תקדים.');\r\n      return;\r\n    }\r\n    const precedent: GlobalPrecedent = {\r\n      id: Date.now().toString(),\r\n      caseName: newPrecedent.caseName!,\r\n      keyTakeaway: newPrecedent.keyTakeaway!,\r\n      citation: newPrecedent.citation || '',\r\n      tags: newPrecedent.tags || [],\r\n      relevantIssues: [],\r\n    };\r\n    saveGlobalPrecedent(precedent);\r\n    setBrain(getKnowledgeBase());\r\n    setNewPrecedent({ caseName: '', keyTakeaway: '', tags: [] });\r\n    setImportMessage('התקדים נשמר בהצלחה במאגר הפנימי.');\r\n  };\r\n\r\n  const importChapterFile = async (file: File) => {\r\n    setImporting(true);\r\n    setImportMessage(`מעלה את \"${file.name}\" לעיבוד...`);\r\n    setImportInsights([]);\r\n    try {\r\n      if (!isApiConfigured()) {\r\n        setImportMessage('שרת העיבוד לא הוגדר. עדכן את REACT_APP_API_BASE_URL.');\r\n        return;\r\n      }\r\n      const backendResult = await uploadChapterPdf(file, { docType: 'chapter' });\r\n      const chapter: BookChapter = {\r\n        id: backendResult.id,\r\n        title: backendResult.title,\r\n        content: backendResult.content || backendResult.summary,\r\n        tags: backendResult.tags || [],\r\n        rules: backendResult.rules || [],\r\n      };\r\n      saveBookChapter(chapter);\r\n      setBrain(getKnowledgeBase());\r\n      setNewChapter(chapter);\r\n      setImportInsights(backendResult.insights || []);\r\n      setImportMessage(`הפרק \"${chapter.title}\" עוּבד בהצלחה דרך השרת ונשמר במאגר.`);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setImportMessage('אירעה שגיאה בקריאת או עיבוד הקובץ. ודא שהקובץ PDF תקין ושה-API זמין.');\r\n    } finally {\r\n      setImporting(false);\r\n      if (fileInputRef.current) fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handlePdfSelection = (files: FileList | null) => {\r\n    if (!files || !files.length) return;\r\n    const file = files[0];\r\n    if (file.type !== 'application/pdf') {\r\n      setImportMessage('נא לבחור קובץ PDF בלבד.');\r\n      return;\r\n    }\r\n    importChapterFile(file);\r\n  };\r\n\r\n  const handleDrop = (event: React.DragEvent<HTMLDivElement>) => {\r\n    event.preventDefault();\r\n    setDragActive(false);\r\n    handlePdfSelection(event.dataTransfer.files);\r\n  };\r\n\r\n  const handleDrag = (event: React.DragEvent<HTMLDivElement>) => {\r\n    event.preventDefault();\r\n    if (event.type === 'dragover') {\r\n      setDragActive(true);\r\n    } else if (event.type === 'dragleave') {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const triggerFilePicker = () => fileInputRef.current?.click();\r\n\r\n  const refreshCaseLists = useCallback(async () => {\r\n    setCaseListLoading(true);\r\n    setCaseListError(null);\r\n    try {\r\n      const payload = await apiListCases();\r\n      setCaseLists(payload);\r\n      if (selectedCase && !payload.ownCases.find((entry) => entry.id === selectedCase.id)) {\r\n        setSelectedCase(null);\r\n      }\r\n      if (!selectedCase && payload.ownCases.length > 0) {\r\n        setSelectedCase(payload.ownCases[0]);\r\n        setSubjectDraft(payload.ownCases[0].topicSummary ?? '');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setCaseListError('טעינת התיקים נכשלה.');\r\n    } finally {\r\n      setCaseListLoading(false);\r\n    }\r\n  }, [selectedCase]);\r\n\r\n  const refreshNotifications = useCallback(async () => {\r\n    try {\r\n      const items = await apiListNotifications();\r\n      setNotifications(items);\r\n      setNotificationsError(null);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setNotificationsError('טעינת ההתראות נכשלה.');\r\n    }\r\n  }, []);\r\n\r\n  const handleSelectCaseDetail = useCallback(\r\n    async (caseId: string) => {\r\n      setCaseListLoading(true);\r\n      setCaseListError(null);\r\n      try {\r\n        const detail = await apiGetCase(caseId);\r\n        setSelectedCase(detail);\r\n        setSubjectDraft(detail.topicSummary ?? '');\r\n      } catch (error) {\r\n        console.error(error);\r\n        setCaseListError('טעינת פרטי התיק נכשלה.');\r\n      } finally {\r\n        setCaseListLoading(false);\r\n      }\r\n    },\r\n    [],\r\n  );\r\n\r\n  const performExportCase = async (caseId: string, format: 'pdf' | 'json') => {\r\n    try {\r\n      const blob = await apiExportCaseFile(caseId, format);\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = `case-${caseId}.${format === 'pdf' ? 'pdf' : 'json'}`;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      link.remove();\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setCaseListError('ייצוא התיק נכשל.');\r\n    }\r\n  };\r\n\r\n  const performRenewCase = async (caseId: string) => {\r\n    try {\r\n      await apiRenewCase(caseId);\r\n      await refreshCaseLists();\r\n      if (selectedCase?.id === caseId) {\r\n        const detail = await apiGetCase(caseId);\r\n        setSelectedCase(detail);\r\n        setSubjectDraft(detail.topicSummary ?? '');\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setCaseListError('חידוש התיק נכשל.');\r\n    }\r\n  };\r\n\r\n  const performArchiveCase = async (caseRecord: CaseRecord) => {\r\n    try {\r\n      if (caseRecord.status === 'ARCHIVED') {\r\n        await apiRenewCase(caseRecord.id);\r\n      } else {\r\n        await apiArchiveCase(caseRecord.id);\r\n      }\r\n      await refreshCaseLists();\r\n      if (selectedCase?.id === caseRecord.id) {\r\n        const detail = await apiGetCase(caseRecord.id);\r\n        setSelectedCase(detail);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n      setCaseListError('עדכון מצב הארכיון נכשל.');\r\n    }\r\n  };\r\n\r\n  const performDeleteCase = async (caseId: string) => {\r\n    try {\r\n      await apiDeleteCase(caseId);\r\n      if (selectedCase?.id === caseId) {\r\n        setSelectedCase(null);\r\n      }\r\n      await refreshCaseLists();\r\n    } catch (error) {\r\n      console.error(error);\r\n      setCaseListError('מחיקת התיק נכשלה.');\r\n    }\r\n  };\r\n\r\n  const handleSaveMetadata = async () => {\r\n    if (!selectedCase) return;\r\n    try {\r\n      const updated = await apiUpdateCaseMetadata(selectedCase.id, { topicSummary: subjectDraft.trim() || undefined });\r\n      setSelectedCase(updated);\r\n      await refreshCaseLists();\r\n    } catch (error) {\r\n      console.error(error);\r\n      setCaseListError('עדכון הנושא נכשל.');\r\n    }\r\n  };\r\n\r\n  const closeConfirmDialog = () => {\r\n    if (confirmLoading) return;\r\n    setConfirmAction(null);\r\n  };\r\n\r\n  const handleConfirmDangerAction = async () => {\r\n    if (!confirmAction) return;\r\n    setConfirmLoading(true);\r\n    try {\r\n      switch (confirmAction.kind) {\r\n        case 'export':\r\n          await performExportCase(confirmAction.caseId, confirmAction.format);\r\n          break;\r\n        case 'renew':\r\n          await performRenewCase(confirmAction.caseId);\r\n          break;\r\n        case 'archive':\r\n          await performArchiveCase(confirmAction.caseRecord);\r\n          break;\r\n        case 'delete':\r\n          await performDeleteCase(confirmAction.caseId);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      setConfirmAction(null);\r\n    } finally {\r\n      setConfirmLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleMarkNotification = async (notificationId: string) => {\r\n    try {\r\n      await apiMarkNotificationRead(notificationId);\r\n      await refreshNotifications();\r\n    } catch (error) {\r\n      console.error(error);\r\n      setNotificationsError('סימון ההתראה נכשל.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (activeTab !== 'medical' || medicalInitialized) return;\r\n    let cancelled = false;\r\n    const loadDocuments = async () => {\r\n      setMedicalListLoading(true);\r\n      setMedicalError(null);\r\n      try {\r\n        const docs = await listKnowledgeDocuments({ docType: 'chapter', limit: 25 });\r\n        if (!cancelled) {\r\n          setMedicalDocs(docs);\r\n          setSelectedMedicalId(docs[0]?.id ?? '');\r\n          setMedicalInitialized(true);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        if (!cancelled) {\r\n          setMedicalError('טעינת מסמכי ניתוח רפואי נכשלה.');\r\n        }\r\n      } finally {\r\n        if (!cancelled) {\r\n          setMedicalListLoading(false);\r\n        }\r\n      }\r\n    };\r\n    loadDocuments();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [activeTab, medicalInitialized]);\r\n\r\n  useEffect(() => {\r\n    if (activeTab !== 'cases') return;\r\n    refreshCaseLists();\r\n    refreshNotifications();\r\n  }, [activeTab, refreshCaseLists, refreshNotifications]);\r\n\r\n  useEffect(() => {\r\n    if (activeTab !== 'medical') return;\r\n    if (!selectedMedicalId) {\r\n      setMedicalDetail(null);\r\n      return;\r\n    }\r\n    let cancelled = false;\r\n    setMedicalDetailLoading(true);\r\n    setMedicalError(null);\r\n    const loadDetail = async () => {\r\n      try {\r\n        const doc = await getKnowledgeDocument(selectedMedicalId);\r\n        if (!cancelled) {\r\n          setMedicalDetail(doc);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        if (!cancelled) {\r\n          setMedicalError('טעינת ניתוח רפואי נכשלה.');\r\n          setMedicalDetail(null);\r\n        }\r\n      } finally {\r\n        if (!cancelled) {\r\n          setMedicalDetailLoading(false);\r\n        }\r\n      }\r\n    };\r\n    loadDetail();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [activeTab, selectedMedicalId]);\r\n\r\n  const refreshMedicalDetail = useCallback(async () => {\r\n    if (!selectedMedicalId) return;\r\n    try {\r\n      const doc = await getKnowledgeDocument(selectedMedicalId);\r\n      setMedicalDetail(doc);\r\n    } catch (error) {\r\n      console.error(error);\r\n      setMedicalError('טעינת הניתוח הרפואי נכשלה.');\r\n    }\r\n  }, [selectedMedicalId]);\r\n\r\n  const requiresHumanExpert = medicalDetail?.flags?.some((flag) => flag.code === 'HUMAN_EXPERT_REQUIRED');\r\n  const hasAssertionConflict =\r\n    Boolean(medicalDetail?.claims?.some((claim) => claim.assertionType === 'FACT')) &&\r\n    Boolean(medicalDetail?.flags?.some((flag) => flag.severity === 'critical'));\r\n\r\n  const knowledgeView = (\r\n    <div className=\"space-y-6\">\r\n      <div\r\n        className={`border-2 border-dashed rounded-card p-6 text-center transition ${\r\n          dragActive ? 'border-gold bg-gold/5' : 'border-pearl bg-pearl/40'\r\n        }`}\r\n        onDragOver={handleDrag}\r\n        onDragLeave={handleDrag}\r\n        onDrop={handleDrop}\r\n      >\r\n        <input\r\n          type=\"file\"\r\n          ref={fileInputRef}\r\n          className=\"hidden\"\r\n          accept=\"application/pdf\"\r\n          onChange={(event) => handlePdfSelection(event.target.files)}\r\n        />\r\n        <UploadCloud className=\"w-10 h-10 text-slate-light mx-auto mb-3\" />\r\n        <p className=\"text-lg font-semibold text-navy\">גררו קובץ PDF של פרק \"תחשיבי נזק\"</p>\r\n        <p className=\"text-sm text-slate mt-2\">הקבצים מעובדים ומנוסחים בשרת המאובטח – כולל רישום Audit אוטומטי.</p>\r\n        <div className=\"mt-4 flex flex-col sm:flex-row items-center justify-center gap-3\">\r\n          <button type=\"button\" onClick={triggerFilePicker} className=\"btn-secondary px-6\" disabled={importing}>\r\n            בחר קובץ PDF\r\n          </button>\r\n          {importing && (\r\n            <div className=\"loader-inline\">\r\n              <Loader2 className=\"loader-inline__icon\" aria-hidden=\"true\" />\r\n              מעבד קובץ...\r\n            </div>\r\n          )}\r\n        </div>\r\n        {importMessage && <p className=\"text-sm text-slate mt-3\">{importMessage}</p>}\r\n        {importInsights.length > 0 && (\r\n          <div className=\"mt-4 text-left\">\r\n            <p className=\"text-xs font-bold text-slate-light mb-2\">תובנות שהופקו:</p>\r\n            <ul className=\"space-y-1 text-sm text-slate\">\r\n              {importInsights.map((insight) => (\r\n                <li key={insight.title} className=\"rounded-card border border-pearl bg-white px-3 py-2\">\r\n                  <span className=\"font-semibold\">{insight.title}: </span>\r\n                  {insight.content}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"grid lg:grid-cols-2 gap-6\">\r\n        <form\r\n          className=\"card-shell\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            handleSaveChapter();\r\n          }}\r\n        >\r\n          <div className=\"card-accent\" />\r\n          <div className=\"card-head\">\r\n            <h2 className=\"text-lg font-bold flex items-center gap-2\">\r\n              <Book className=\"w-5 h-5 text-gold\" /> הוסף פרק חדש\r\n            </h2>\r\n          </div>\r\n          <div className=\"card-underline\" />\r\n          <div className=\"card-body space-y-4\">\r\n            <input\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\"\r\n              placeholder=\"כותרת הפרק\"\r\n              value={newChapter.title || ''}\r\n              onChange={(e) => setNewChapter((prev) => ({ ...prev, title: e.target.value }))}\r\n            />\r\n            <textarea\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm h-24 focus:border-gold\"\r\n              placeholder=\"תוכן / תקציר\"\r\n              value={newChapter.content || ''}\r\n              onChange={(e) => setNewChapter((prev) => ({ ...prev, content: e.target.value }))}\r\n            />\r\n            <input\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\"\r\n              placeholder=\"תגיות (מופרדות בפסיק)\"\r\n              value={(newChapter.tags || []).join(', ')}\r\n              onChange={(e) =>\r\n                setNewChapter((prev) => ({\r\n                  ...prev,\r\n                  tags: e.target.value\r\n                    .split(',')\r\n                    .map((tag) => tag.trim())\r\n                    .filter(Boolean),\r\n                }))\r\n              }\r\n            />\r\n            <textarea\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm h-20 focus:border-gold\"\r\n              placeholder=\"כללים (כל שורה כלל חדש)\"\r\n              value={(newChapter.rules || []).join('\\n')}\r\n              onChange={(e) =>\r\n                setNewChapter((prev) => ({\r\n                  ...prev,\r\n                  rules: e.target.value\r\n                    .split('\\n')\r\n                    .map((rule) => rule.trim())\r\n                    .filter(Boolean),\r\n                }))\r\n              }\r\n            />\r\n            <button type=\"submit\" className=\"btn-secondary w-full justify-center\">\r\n              <Save className=\"w-4 h-4\" /> שמור פרק\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <form\r\n          className=\"card-shell\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            handleSavePrecedent();\r\n          }}\r\n        >\r\n          <div className=\"card-accent\" />\r\n          <div className=\"card-head\">\r\n            <h2 className=\"text-lg font-bold flex items-center gap-2\">\r\n              <Gavel className=\"w-5 h-5 text-gold\" /> הוסף תקדים חדש\r\n            </h2>\r\n          </div>\r\n          <div className=\"card-underline\" />\r\n          <div className=\"card-body space-y-4\">\r\n            <input\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\"\r\n              placeholder=\"שם ההליך / תקדים\"\r\n              value={newPrecedent.caseName || ''}\r\n              onChange={(e) => setNewPrecedent((prev) => ({ ...prev, caseName: e.target.value }))}\r\n            />\r\n            <textarea\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm h-24 focus:border-gold\"\r\n              placeholder=\"תובנה מרכזית\"\r\n              value={newPrecedent.keyTakeaway || ''}\r\n              onChange={(e) => setNewPrecedent((prev) => ({ ...prev, keyTakeaway: e.target.value }))}\r\n            />\r\n            <input\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\"\r\n              placeholder=\"ציון / מקור\"\r\n              value={newPrecedent.citation || ''}\r\n              onChange={(e) => setNewPrecedent((prev) => ({ ...prev, citation: e.target.value }))}\r\n            />\r\n            <input\r\n              className=\"w-full rounded-card border border-pearl bg-white p-3 text-sm focus:border-gold\"\r\n              placeholder=\"תגיות (מופרדות בפסיק)\"\r\n              value={(newPrecedent.tags || []).join(', ')}\r\n              onChange={(e) =>\r\n                setNewPrecedent((prev) => ({\r\n                  ...prev,\r\n                  tags: e.target.value\r\n                    .split(',')\r\n                    .map((tag) => tag.trim())\r\n                    .filter(Boolean),\r\n                }))\r\n              }\r\n            />\r\n            <button type=\"submit\" className=\"btn-secondary w-full justify-center\">\r\n              <Save className=\"w-4 h-4\" /> שמור תקדים\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"grid md:grid-cols-2 gap-6\">\r\n        <div className=\"card-shell\">\r\n          <div className=\"card-accent\" />\r\n          <div className=\"card-head\">\r\n            <h3 className=\"font-semibold flex items-center gap-2\">\r\n              <Book className=\"w-4 h-4 text-gold\" /> פרקים קיימים ({brain.book.length})\r\n            </h3>\r\n          </div>\r\n          <div className=\"card-underline\" />\r\n          <div className=\"card-body space-y-3\">\r\n            {brain.book.length === 0 ? (\r\n              <div className=\"state-block text-sm\">\r\n                <Book className=\"state-block__icon\" aria-hidden=\"true\" />\r\n                <p className=\"state-block__title\">אין פרקים שמורים</p>\r\n                <p className=\"state-block__description\">כשיוזנו פרקים חדשים הם יתווספו אוטומטית לרשימה.</p>\r\n              </div>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {brain.book.slice(0, 4).map((chapter) => (\r\n                  <li key={chapter.id} className=\"mini-card space-y-1\">\r\n                    <p className=\"font-semibold text-navy\">{chapter.title}</p>\r\n                    <p className=\"text-xs text-slate-light overflow-hidden text-ellipsis whitespace-nowrap\">\r\n                      {chapter.content}\r\n                    </p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"card-shell\">\r\n          <div className=\"card-accent\" />\r\n          <div className=\"card-head\">\r\n            <h3 className=\"font-semibold flex items-center gap-2\">\r\n              <Gavel className=\"w-4 h-4 text-gold\" /> תקדימים ({brain.precedents.length})\r\n            </h3>\r\n          </div>\r\n          <div className=\"card-underline\" />\r\n          <div className=\"card-body space-y-3\">\r\n            {brain.precedents.length === 0 ? (\r\n              <div className=\"state-block text-sm\">\r\n                <Gavel className=\"state-block__icon\" aria-hidden=\"true\" />\r\n                <p className=\"state-block__title\">אין תקדימים שמורים</p>\r\n                <p className=\"state-block__description\">הוסף תקדים חדש כדי להתחיל לבנות ספרייה משפטית פנימית.</p>\r\n              </div>\r\n            ) : (\r\n              <ul className=\"space-y-3\">\r\n                {brain.precedents.slice(0, 4).map((precedent) => (\r\n                  <li key={precedent.id} className=\"mini-card space-y-1\">\r\n                    <p className=\"font-semibold text-navy\">{precedent.caseName}</p>\r\n                    <p className=\"text-xs text-slate-light overflow-hidden text-ellipsis whitespace-nowrap\">\r\n                      {precedent.keyTakeaway}\r\n                    </p>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const caseStatusLabel: Record<'ACTIVE' | 'ARCHIVED' | 'PENDING_DELETE', string> = {\r\n    ACTIVE: 'פעיל',\r\n    ARCHIVED: 'בארכיון',\r\n    PENDING_DELETE: 'ממתין למחיקה',\r\n  };\r\n\r\n  const caseStatusStyle: Record<'ACTIVE' | 'ARCHIVED' | 'PENDING_DELETE', string> = {\r\n    ACTIVE: 'bg-gold/20 text-navy',\r\n    ARCHIVED: 'bg-slate-light/30 text-navy',\r\n    PENDING_DELETE: 'bg-danger/10 text-danger',\r\n  };\r\n\r\n  const renderStatusBadge = (status: 'ACTIVE' | 'ARCHIVED' | 'PENDING_DELETE') => (\r\n    <span className={`inline-flex items-center rounded px-2 py-0.5 text-xs font-semibold ${caseStatusStyle[status]}`}>\r\n      {caseStatusLabel[status]}\r\n    </span>\r\n  );\r\n\r\n  const renderDaysIndicator = (days?: number) => {\r\n    if (days === undefined) return <span className=\"text-xs text-slate-500\">ללא מידע</span>;\r\n    if (days === 0) {\r\n      return <span className=\"text-xs text-danger font-semibold\">פחות מ-24 שעות למחיקה</span>;\r\n    }\r\n    const tone =\r\n      days <= 3 ? 'text-danger font-semibold' : days <= 15 ? 'text-gold font-semibold' : 'text-slate-light';\r\n    return (\r\n      <span className={`text-xs ${tone}`} dir=\"ltr\">\r\n        נותרו {days} ימים\r\n      </span>\r\n    );\r\n  };\r\n\r\n  const CaseCard = ({\r\n    item,\r\n    variant,\r\n  }: {\r\n    item: CaseSummaryRecord;\r\n    variant: 'owner' | 'readonly';\r\n  }) => (\r\n    <div\r\n      className={`card-shell transition hover:shadow-2xl ${variant === 'owner' ? 'cursor-pointer' : ''}`}\r\n      onClick={variant === 'owner' ? () => handleSelectCaseDetail(item.id) : undefined}\r\n    >\r\n      <div className=\"card-accent\" />\r\n      <div className=\"card-head\">\r\n        <div className=\"space-y-1\">\r\n          <p className=\"text-base font-semibold\">{item.title}</p>\r\n          <p className=\"text-sm text-slate-light truncate\">{item.topicSummary}</p>\r\n        </div>\r\n        <span className={variant === 'owner' ? 'badge-owner' : 'badge-readonly'}>\r\n          {variant === 'owner' ? 'שלי' : 'קריאה בלבד'}\r\n        </span>\r\n      </div>\r\n      <div className=\"card-underline\" />\r\n      <div className=\"card-body space-y-2 text-sm text-slate\">\r\n        {variant === 'owner' ? (\r\n          <>\r\n            <div className=\"flex flex-wrap items-center gap-2\">\r\n              {renderStatusBadge(item.status as any)}\r\n              {renderDaysIndicator(item.daysRemaining)}\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-4 text-xs\">\r\n              <span>נוצר: {new Date(item.createdAt).toLocaleDateString('he-IL')}</span>\r\n              {item.lastAccessedAt && <span>עודכן: {new Date(item.lastAccessedAt).toLocaleDateString('he-IL')}</span>}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <span className=\"text-xs text-slate-light\">\r\n            עודכן: {new Date(item.createdAt).toLocaleDateString('he-IL')}\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const casesView = (\r\n    <div className=\"space-y-6\">\r\n      <section className=\"card-shell\">\r\n        <div className=\"card-accent\" />\r\n        <div className=\"card-head\">\r\n          <div>\r\n            <p className=\"text-lg font-semibold flex items-center gap-2\">\r\n              <Layout className=\"w-5 h-5 text-gold\" /> ניהול תיקים\r\n            </p>\r\n            <p className=\"text-sm text-slate-light\">\r\n              תצוגה משרדית פנימית – תיקים אישיים לצד תיקים ללימוד והשוואה.\r\n            </p>\r\n          </div>\r\n          <AlertTriangle className=\"w-5 h-5 text-gold-light\" />\r\n        </div>\r\n        <div className=\"card-underline\" />\r\n        <div className=\"card-body text-sm text-slate\">\r\n          מחיקה אוטומטית מתבצעת לאחר 90 יום. מומלץ לתייק או לייצא מסמכים טרם המחיקה.\r\n        </div>\r\n      </section>\r\n\r\n      {caseListError && (\r\n        <div className=\"state-block state-block--error text-sm\">\r\n          <AlertTriangle className=\"state-block__icon\" aria-hidden=\"true\" />\r\n          <p className=\"state-block__title\">טעינת התיקים נכשלה</p>\r\n          <p className=\"state-block__description\">{caseListError}</p>\r\n        </div>\r\n      )}\r\n      {caseListLoading && (\r\n        <div className=\"loader-inline\">\r\n          <Loader2 className=\"loader-inline__icon\" aria-hidden=\"true\" />\r\n          טוען נתוני תיקים...\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid gap-6 lg:grid-cols-2\">\r\n        <section className=\"space-y-4\">\r\n          <h3 className=\"text-sm font-semibold text-slate\">התיקים שלי ({caseLists.ownCases.length})</h3>\r\n          {caseLists.ownCases.length === 0 ? (\r\n            <div className=\"card-shell\">\r\n              <div className=\"card-accent\" />\r\n              <div className=\"card-body\">\r\n                <div className=\"state-block text-sm\">\r\n                  <Layout className=\"state-block__icon\" aria-hidden=\"true\" />\r\n                  <p className=\"state-block__title\">אין תיקים בבעלותך כרגע</p>\r\n                  <p className=\"state-block__description\">צור תיק חדש או יבוא תיק קיים כדי להתחיל בעבודה.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {caseLists.ownCases.map((item) => (\r\n                <CaseCard key={item.id} item={item} variant=\"owner\" />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        <section className=\"space-y-4\">\r\n          <h3 className=\"text-sm font-semibold text-slate\">תיקים אחרים ({caseLists.otherCases.length})</h3>\r\n          {caseLists.otherCases.length === 0 ? (\r\n            <div className=\"card-shell\">\r\n              <div className=\"card-accent\" />\r\n              <div className=\"card-body\">\r\n                <div className=\"state-block text-sm\">\r\n                  <Layout className=\"state-block__icon\" aria-hidden=\"true\" />\r\n                  <p className=\"state-block__title\">אין תיקים חיצוניים להשוואה</p>\r\n                  <p className=\"state-block__description\">כשתוקצה גישה לתיקי לימוד, הם יופיעו באזור זה.</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"space-y-4\">\r\n              {caseLists.otherCases.map((item) => (\r\n                <CaseCard key={item.id} item={item} variant=\"readonly\" />\r\n              ))}\r\n            </div>\r\n          )}\r\n        </section>\r\n      </div>\r\n\r\n      <div className=\"grid gap-6 lg:grid-cols-3\">\r\n        <div className=\"card-shell lg:col-span-2\">\r\n          <div className=\"card-accent\" />\r\n          <div className=\"card-head\">\r\n            <p className=\"text-base font-semibold\">פרטי תיק נבחר</p>\r\n            {selectedCase && <span className=\"badge-status\">{selectedCase.title}</span>}\r\n          </div>\r\n          <div className=\"card-underline\" />\r\n          <div className=\"card-body text-sm text-slate space-y-3\">\r\n            {selectedCase ? (\r\n              <>\r\n                <div className=\"flex flex-wrap items-center gap-2\">\r\n                  {renderStatusBadge(selectedCase.status)}\r\n                  {renderDaysIndicator(selectedCase.daysRemaining)}\r\n                </div>\r\n                <div>\r\n                  <p className=\"text-xs text-slate-light mb-1\">נושא בטוח</p>\r\n                  <textarea\r\n                    className=\"w-full rounded-2xl border border-pearl bg-pearl/60 p-3 text-sm focus:border-gold focus:ring-1 focus:ring-gold outline-none transition\"\r\n                    rows={3}\r\n                    value={subjectDraft}\r\n                    onChange={(e) => setSubjectDraft(e.target.value)}\r\n                    placeholder=\"תיאור מילולי קצר של התיק...\"\r\n                  />\r\n                  <div className=\"mt-2 flex justify-end\">\r\n                    <button onClick={handleSaveMetadata} className=\"btn-primary text-xs px-4 py-1.5\">\r\n                      שמור נושא\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-xs text-slate-light flex flex-wrap gap-4\">\r\n                  <span>נוצר: {new Date(selectedCase.createdAt).toLocaleString('he-IL')}</span>\r\n                  {selectedCase.lastAccessedAt && (\r\n                    <span>גישה אחרונה: {new Date(selectedCase.lastAccessedAt).toLocaleString('he-IL')}</span>\r\n                  )}\r\n                </div>\r\n                <div className=\"pt-4 flex flex-wrap gap-2 border-t border-pearl/60\">\r\n                  <button\r\n                    className=\"btn-primary text-xs px-4 py-1.5\"\r\n                    onClick={() =>\r\n                      setConfirmAction({\r\n                        kind: 'export',\r\n                        format: 'pdf',\r\n                        caseId: selectedCase.id,\r\n                        caseTitle: selectedCase.title,\r\n                      })\r\n                    }\r\n                  >\r\n                    ייצא PDF\r\n                  </button>\r\n                  <button\r\n                    className=\"btn-secondary text-xs px-4 py-1.5\"\r\n                    onClick={() =>\r\n                      setConfirmAction({\r\n                        kind: 'export',\r\n                        format: 'json',\r\n                        caseId: selectedCase.id,\r\n                        caseTitle: selectedCase.title,\r\n                      })\r\n                    }\r\n                  >\r\n                    ייצא JSON\r\n                  </button>\r\n                  <button\r\n                    className=\"btn-outline text-xs px-4 py-1.5\"\r\n                    onClick={() =>\r\n                      setConfirmAction({\r\n                        kind: 'renew',\r\n                        caseId: selectedCase.id,\r\n                        caseTitle: selectedCase.title,\r\n                      })\r\n                    }\r\n                  >\r\n                    חדש תיק\r\n                  </button>\r\n                  <button\r\n                    className=\"btn-outline text-xs px-4 py-1.5\"\r\n                    onClick={() =>\r\n                      setConfirmAction({\r\n                        kind: 'archive',\r\n                        caseRecord: selectedCase,\r\n                      })\r\n                    }\r\n                  >\r\n                    {selectedCase.status === 'ARCHIVED' ? 'בטל ארכיון' : 'העבר לארכיון'}\r\n                  </button>\r\n                  <button\r\n                    className=\"btn-outline text-xs px-4 py-1.5 border-danger text-danger hover:bg-danger/10\"\r\n                    onClick={() =>\r\n                      setConfirmAction({\r\n                        kind: 'delete',\r\n                        caseId: selectedCase.id,\r\n                        caseTitle: selectedCase.title,\r\n                      })\r\n                    }\r\n                  >\r\n                    מחיקה\r\n                  </button>\r\n                </div>\r\n              </>\r\n            ) : (\r\n              <p className=\"text-sm text-slate\">בחר תיק מהרשימה להצגת פרטים.</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card-shell\">\r\n          <div className=\"card-accent\" />\r\n          <div className=\"card-head\">\r\n            <p className=\"text-base font-semibold flex items-center gap-2\">\r\n              <Bell className=\"w-4 h-4 text-gold\" />\r\n              התראות שמירה\r\n            </p>\r\n          </div>\r\n          <div className=\"card-underline\" />\r\n          <div className=\"card-body space-y-2 text-sm text-slate\">\r\n            {notificationsError && (\r\n              <div className=\"state-block state-block--error text-xs\">\r\n                <AlertTriangle className=\"state-block__icon\" aria-hidden=\"true\" />\r\n                <p className=\"state-block__title text-sm\">שגיאה בטעינת התראות</p>\r\n                <p className=\"state-block__description\">{notificationsError}</p>\r\n              </div>\r\n            )}\r\n            {notifications.length === 0 ? (\r\n              <p className=\"text-sm text-slate\">אין התראות פעילות.</p>\r\n            ) : (\r\n              <ul className=\"space-y-2\">\r\n                {notifications.map((notification) => (\r\n                  <li key={notification.id} className=\"rounded-2xl border border-pearl bg-pearl/40 p-3\">\r\n                    <p className=\"text-slate\">{notification.message}</p>\r\n                    <p className=\"text-[11px] text-slate-light mt-1\">\r\n                      {new Date(notification.createdAt).toLocaleString('he-IL')}\r\n                    </p>\r\n                    {!notification.readAt && (\r\n                      <button\r\n                        className=\"mt-2 text-xs text-gold hover:text-gold-light\"\r\n                        onClick={() => handleMarkNotification(notification.id)}\r\n                      >\r\n                        סמן כנקרא\r\n                      </button>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const medicalView = (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex flex-col gap-4 md:flex-row md:items-end\">\r\n        <div className=\"flex-1\">\r\n          <label className=\"text-xs font-semibold text-slate-500\">בחר מסמך רפואי</label>\r\n          <select\r\n            className=\"mt-1 w-full rounded border border-slate-300 p-2 text-sm\"\r\n            value={selectedMedicalId}\r\n            onChange={(e) => setSelectedMedicalId(e.target.value)}\r\n            disabled={!medicalDocs.length || medicalListLoading}\r\n          >\r\n            {medicalDocs.map((doc) => (\r\n              <option key={doc.id} value={doc.id}>\r\n                {doc.title}\r\n              </option>\r\n            ))}\r\n            {!medicalDocs.length && <option value=\"\">אין מסמכים</option>}\r\n          </select>\r\n        </div>\r\n        <div className=\"md:w-1/3\">\r\n          <QualityBadge score={medicalDetail?.score} />\r\n        </div>\r\n      </div>\r\n\r\n      {(requiresHumanExpert || hasAssertionConflict) && (\r\n        <div className=\"state-block state-block--error text-sm\">\r\n          <AlertTriangle className=\"state-block__icon\" aria-hidden=\"true\" />\r\n          <p className=\"state-block__title\">\r\n            {requiresHumanExpert ? 'נדרש מומחה אנושי' : 'זוהתה סתירה בין הטענות לדגלים'}\r\n          </p>\r\n          <p className=\"state-block__description\">\r\n            {requiresHumanExpert\r\n              ? 'קיים דגל HUMAN_EXPERT_REQUIRED. יש לערב מומחה רפואי לפני פעולה נוספת.'\r\n              : 'זוהו טענות מסווגות כעובדה לצד דגלים קריטיים. מומלץ לעבור שוב על הממצאים לפני הסתמכות.'}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {medicalError && (\r\n        <div className=\"state-block state-block--error text-sm\">\r\n          <AlertTriangle className=\"state-block__icon\" aria-hidden=\"true\" />\r\n          <p className=\"state-block__title\">טעינת המסמך הרפואי נכשלה</p>\r\n          <p className=\"state-block__description\">{medicalError}</p>\r\n        </div>\r\n      )}\r\n\r\n      {(medicalListLoading || medicalDetailLoading) && (\r\n        <div className=\"loader-inline\">\r\n          <Loader2 className=\"loader-inline__icon\" aria-hidden=\"true\" />\r\n          טוען נתוני ניתוח רפואי...\r\n        </div>\r\n      )}\r\n\r\n      {!medicalListLoading && !medicalDetail && !medicalError && (\r\n        <div className=\"state-block text-sm\">\r\n          <Book className=\"state-block__icon\" aria-hidden=\"true\" />\r\n          <p className=\"state-block__title\">אין ניתוחים רפואיים להצגה</p>\r\n          <p className=\"state-block__description\">בחר מסמך רפואי מהרשימה או העלה מסמך חדש כדי להתחיל בניתוח.</p>\r\n        </div>\r\n      )}\r\n\r\n      {medicalDetail && (\r\n        <>\r\n          <MedicalQualityBox\r\n            score={medicalDetail.medicalQualityScore}\r\n            findings={medicalDetail.qualityFindings ?? []}\r\n            reasoningFindings={medicalDetail.reasoningFindings ?? []}\r\n          />\r\n          <KnowledgeFlags flags={medicalDetail.flags || []} />\r\n          <KnowledgeClaimsPanel claims={medicalDetail.claims || []} limit={5} />\r\n          <MedicalTimeline events={medicalDetail.timeline || []} />\r\n          <LiteraturePanel\r\n            knowledgeId={medicalDetail.id}\r\n            resources={medicalDetail.literatureResources ?? []}\r\n            onRefresh={refreshMedicalDetail}\r\n          />\r\n        </>\r\n      )}\r\n      <LegalDisclaimer />\r\n    </div>\r\n  );\r\n\r\n  const contextModeLabel =\r\n    activeTab === 'cases'\r\n      ? 'ניהול תיקים משרדיים'\r\n      : activeTab === 'knowledge'\r\n      ? 'מרכז הידע הפנימי'\r\n      : 'בקרה רפואית ותחקור';\r\n  const ribbonStatus = activeTab === 'cases' ? selectedCase?.status : undefined;\r\n  const ribbonCaseName = activeTab === 'cases' ? selectedCase?.title : undefined;\r\n  const ribbonReadOnly = activeTab === 'cases' ? !(selectedCase?.isOwner ?? true) : false;\r\n\r\n  const confirmTitle = (() => {\r\n    if (!confirmAction) return '';\r\n    switch (confirmAction.kind) {\r\n      case 'export':\r\n        return 'אישור ייצוא תיק';\r\n      case 'renew':\r\n        return 'אישור חידוש תיק';\r\n      case 'archive':\r\n        return confirmAction.caseRecord.status === 'ARCHIVED' ? 'אישור ביטול ארכיון' : 'אישור העברה לארכיון';\r\n      case 'delete':\r\n        return 'אישור מחיקה סופית';\r\n      default:\r\n        return 'אישור פעולה';\r\n    }\r\n  })();\r\n\r\n  const confirmDescription = (() => {\r\n    if (!confirmAction) return '';\r\n    const base = confirmAction.kind === 'archive' ? confirmAction.caseRecord.title : confirmAction.caseTitle;\r\n    switch (confirmAction.kind) {\r\n      case 'export':\r\n        return `פעולה זו תייצא את התיק ${base ?? ''} בפורמט ${confirmAction.format.toUpperCase()} ותבוצע על ידי ${currentUserName}.`;\r\n      case 'renew':\r\n        return `פעולה זו תאפס את מועד המחיקה לתיק ${base ?? ''}. ${currentUserName} מאשר את ביצועה.`;\r\n      case 'archive':\r\n        return confirmAction.caseRecord.status === 'ARCHIVED'\r\n          ? `התיק ${confirmAction.caseRecord.title} יחזור ממצב ארכיון. הפעולה מאושרת על ידי ${currentUserName}.`\r\n          : `התיק ${confirmAction.caseRecord.title} יעבור לארכיון ויהיה לקריאה בלבד. הפעולה מאושרת על ידי ${currentUserName}.`;\r\n      case 'delete':\r\n        return `פעולה זו תמחק את התיק ${base ?? ''} לצמיתות ואינה ניתנת לשחזור. ${currentUserName} מאשר שהבין את המשמעות.`;\r\n      default:\r\n        return '';\r\n    }\r\n  })();\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-pearl text-navy\" dir=\"rtl\">\r\n      <header className=\"h-16 bg-navy text-gold flex items-center justify-between px-6 shadow-lg\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <span className=\"text-xl font-semibold brand-mark\">LexMedical Admin</span>\r\n          <span className=\"text-xs text-gold-light hidden md:inline\">\r\n            שליטה משרדית בחומר הרפואי־משפטי\r\n          </span>\r\n        </div>\r\n        <div className=\"flex items-center gap-4 text-sm\">\r\n          <span className=\"text-pearl\">מחובר: {currentUserName}</span>\r\n          <button onClick={onLogout} className=\"flex items-center gap-2 rounded-full border border-gold px-3 py-1 text-gold hover:bg-gold/10 transition\">\r\n            <LogOut className=\"w-4 h-4\" /> יציאה\r\n          </button>\r\n        </div>\r\n      </header>\r\n      <ContextRibbon\r\n        mode={contextModeLabel}\r\n        caseName={ribbonCaseName}\r\n        status={ribbonStatus}\r\n        isReadOnly={ribbonReadOnly}\r\n        onBack={() => window.history.back()}\r\n      />\r\n      <main className=\"max-w-6xl mx-auto px-6 py-8 space-y-6\">\r\n        <div className=\"rounded-card border border-pearl bg-white p-6 shadow-card-xl flex flex-wrap items-center justify-between gap-4\">\r\n          <div>\r\n            <p className=\"text-sm text-slate\">עודכן לאחרונה: {new Date(brain.lastUpdated).toLocaleString('he-IL')}</p>\r\n            <p className=\"text-xs text-slate-light\">ממשק פנימי לשימוש עורכי דין בלבד</p>\r\n          </div>\r\n          <div className=\"flex flex-wrap gap-3\">\r\n            <button\r\n              onClick={() => setActiveTab('knowledge')}\r\n              className={`rounded-full px-4 py-2 text-sm font-semibold flex items-center gap-2 ${\r\n                activeTab === 'knowledge' ? 'bg-navy text-gold' : 'bg-pearl border border-pearl text-slate'\r\n              }`}\r\n            >\r\n              <Book className=\"w-4 h-4\" /> ידע\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('cases')}\r\n              className={`rounded-full px-4 py-2 text-sm font-semibold flex items-center gap-2 ${\r\n                activeTab === 'cases' ? 'bg-navy text-gold' : 'bg-pearl border border-pearl text-slate'\r\n              }`}\r\n            >\r\n              <Layout className=\"w-4 h-4\" /> תיקים\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('medical')}\r\n              className={`rounded-full px-4 py-2 text-sm font-semibold flex items-center gap-2 ${\r\n                activeTab === 'medical' ? 'bg-navy text-gold' : 'bg-pearl border border-pearl text-slate'\r\n              }`}\r\n            >\r\n              <Activity className=\"w-4 h-4\" /> Medical Analysis\r\n            </button>\r\n          </div>\r\n        </div>\r\n        {activeTab === 'knowledge' && knowledgeView}\r\n        {activeTab === 'cases' && casesView}\r\n        {activeTab === 'medical' && medicalView}\r\n      </main>\r\n      {confirmAction && (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4\" role=\"dialog\" aria-modal=\"true\">\r\n          <div className=\"card-shell max-w-md w-full\">\r\n            <div className=\"card-accent\" />\r\n            <div className=\"card-head\">\r\n              <h4 className=\"text-base font-semibold\">{confirmTitle}</h4>\r\n              <button\r\n                type=\"button\"\r\n                onClick={closeConfirmDialog}\r\n                className=\"text-xs text-slate-light hover:text-navy\"\r\n                aria-label=\"בטל פעולה\"\r\n              >\r\n                ביטול\r\n              </button>\r\n            </div>\r\n            <div className=\"card-underline\" />\r\n            <div className=\"card-body space-y-3 text-sm text-slate\">\r\n              <p>{confirmDescription}</p>\r\n              <p className=\"text-xs text-slate-light\">הפעולה תרשם בלוג האודיט המשרדי.</p>\r\n              <div className=\"flex justify-end gap-3 pt-2\">\r\n                <button type=\"button\" className=\"btn-outline text-xs px-4 py-1.5\" onClick={closeConfirmDialog} disabled={confirmLoading}>\r\n                  ביטול\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn-primary text-xs px-4 py-1.5\"\r\n                  onClick={handleConfirmDangerAction}\r\n                  disabled={confirmLoading}\r\n                >\r\n                  {confirmLoading ? 'מבצע...' : 'אישור פעולה'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}