{"ast":null,"code":"import _objectSpread from\"C:/Office-Apps/LexMedical-App/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{calculateLiabilityScore}from'../services/calculations';import{Scale,Loader2,AlertTriangle,Book}from'lucide-react';import SmartAssistant from'./SmartAssistant';import{listKnowledgeDocuments,getKnowledgeDocument}from'../services/knowledgeApi';import QualityBadge from'./QualityBadge';import KnowledgeFlags from'./KnowledgeFlags';import KnowledgeClaimsPanel from'./KnowledgeClaimsPanel';import MedicalTimeline from'./MedicalTimeline';import MedicalQualityBox from'./MedicalQualityBox';import LiteraturePanel from'./LiteraturePanel';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const LiabilityStep=_ref=>{var _medicalDetail$qualit,_medicalDetail$reason,_medicalDetail$litera;let{caseData,updateCaseData}=_ref;const[localAnalysis,setLocalAnalysis]=useState(caseData.liability);const[assistantOpen,setAssistantOpen]=useState(false);const[evidenceOpen,setEvidenceOpen]=useState(false);const[evidenceInitialized,setEvidenceInitialized]=useState(false);const[medicalDocs,setMedicalDocs]=useState([]);const[selectedMedicalId,setSelectedMedicalId]=useState('');const[medicalDetail,setMedicalDetail]=useState(null);const[medicalListLoading,setMedicalListLoading]=useState(false);const[medicalDetailLoading,setMedicalDetailLoading]=useState(false);const[medicalError,setMedicalError]=useState(null);useEffect(()=>{const result=calculateLiabilityScore(50,localAnalysis.aggravatingFactors,localAnalysis.mitigatingFactors,localAnalysis.medicalRecordQuality,localAnalysis.expertCourtStance);setLocalAnalysis(prev=>_objectSpread(_objectSpread({},prev),{},{probability:result.probability,probabilityRange:result.range,uncertainty:result.uncertainty}));},[localAnalysis.aggravatingFactors,localAnalysis.mitigatingFactors,localAnalysis.medicalRecordQuality,localAnalysis.expertCourtStance]);useEffect(()=>{if(caseData.liability===localAnalysis)return;setLocalAnalysis(caseData.liability);},[caseData.liability,localAnalysis]);useEffect(()=>{updateCaseData(prev=>{if(!prev)return prev;if(prev.liability===localAnalysis)return prev;return _objectSpread(_objectSpread({},prev),{},{liability:localAnalysis});});},[localAnalysis,updateCaseData]);useEffect(()=>{if(!evidenceOpen||evidenceInitialized)return;let cancelled=false;const loadDocuments=async()=>{setMedicalListLoading(true);setMedicalError(null);try{const docs=await listKnowledgeDocuments({docType:'chapter',limit:10});if(!cancelled){var _docs$0$id,_docs$;setMedicalDocs(docs);setSelectedMedicalId((_docs$0$id=(_docs$=docs[0])===null||_docs$===void 0?void 0:_docs$.id)!==null&&_docs$0$id!==void 0?_docs$0$id:'');setEvidenceInitialized(true);}}catch(error){console.error(error);if(!cancelled){setMedicalError('טעינת ניתוחים רפואיים נכשלה.');}}finally{if(!cancelled){setMedicalListLoading(false);}}};loadDocuments();return()=>{cancelled=true;};},[evidenceOpen,evidenceInitialized]);useEffect(()=>{if(!evidenceOpen||!selectedMedicalId){setMedicalDetail(null);return;}let cancelled=false;setMedicalDetailLoading(true);setMedicalError(null);const loadDetail=async()=>{try{const doc=await getKnowledgeDocument(selectedMedicalId);if(!cancelled){setMedicalDetail(doc);}}catch(error){console.error(error);if(!cancelled){setMedicalError('טעינת המסמך הרפואי נכשלה.');setMedicalDetail(null);}}finally{if(!cancelled){setMedicalDetailLoading(false);}}};loadDetail();return()=>{cancelled=true;};},[evidenceOpen,selectedMedicalId]);const refreshEvidenceDetail=useCallback(async()=>{if(!selectedMedicalId)return;try{const doc=await getKnowledgeDocument(selectedMedicalId);setMedicalDetail(doc);}catch(error){console.error(error);setMedicalError('טעינת המסמך הרפואי נכשלה.');}},[selectedMedicalId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex relative\",children:[/*#__PURE__*/_jsx(SmartAssistant,{isOpen:assistantOpen,onClose:()=>setAssistantOpen(false),contextQuery:\"\",onImportPrecedent:()=>{},onImportRule:()=>{}}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 space-y-8 pb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-shell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-accent\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-head\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-bold flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Scale,{className:\"w-5 h-5 text-gold\"}),\" \\u05E0\\u05D9\\u05EA\\u05D5\\u05D7 \\u05D7\\u05D1\\u05D5\\u05EA\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-underline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-card border border-pearl bg-pearl/40 p-4 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-4xl font-bold text-navy\",dir:\"ltr\",children:[localAnalysis.probability,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-light\",children:\"\\u05E1\\u05D9\\u05DB\\u05D5\\u05D9 \\u05DC\\u05EA\\u05D1\\u05D9\\u05E2\\u05D4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4 border-t border-pearl/60\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-outline w-full justify-between px-4 py-3\",onClick:()=>setEvidenceOpen(prev=>!prev),\"aria-expanded\":evidenceOpen,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Medical Evidence\"}),/*#__PURE__*/_jsx(\"span\",{children:evidenceOpen?'הסתר':'הצג'})]}),evidenceOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 space-y-4\",children:[medicalError&&/*#__PURE__*/_jsxs(\"div\",{className:\"state-block state-block--error text-sm\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"state-block__icon\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"p\",{className:\"state-block__title\",children:\"\\u05D8\\u05E2\\u05D9\\u05E0\\u05EA \\u05D4\\u05DE\\u05E1\\u05DE\\u05DA \\u05E0\\u05DB\\u05E9\\u05DC\\u05D4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"state-block__description\",children:medicalError})]}),medicalListLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loader-inline\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"loader-inline__icon\",\"aria-hidden\":\"true\"}),\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05D9\\u05DD...\"]}),!medicalListLoading&&medicalDocs.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"state-block text-sm\",children:[/*#__PURE__*/_jsx(Book,{className:\"state-block__icon\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"p\",{className:\"state-block__title\",children:\"\\u05D0\\u05D9\\u05DF \\u05DE\\u05E1\\u05DE\\u05DB\\u05D9\\u05DD \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05D9\\u05DD \\u05D6\\u05DE\\u05D9\\u05E0\\u05D9\\u05DD\"}),/*#__PURE__*/_jsx(\"p\",{className:\"state-block__description\",children:\"\\u05D9\\u05D9\\u05D1\\u05D0 \\u05D0\\u05D5 \\u05D1\\u05D7\\u05E8 \\u05DE\\u05E1\\u05DE\\u05DA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9 \\u05DB\\u05D3\\u05D9 \\u05DC\\u05E6\\u05E4\\u05D5\\u05EA \\u05D1\\u05E0\\u05D9\\u05EA\\u05D5\\u05D7.\"})]}),medicalDocs.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-xs font-semibold text-slate-light\",children:\"\\u05D1\\u05D7\\u05E8 \\u05DE\\u05E1\\u05DE\\u05DA\"}),/*#__PURE__*/_jsx(\"select\",{className:\"mt-1 w-full rounded-card border border-pearl bg-white p-2 text-sm focus:border-gold\",value:selectedMedicalId,onChange:e=>setSelectedMedicalId(e.target.value),disabled:medicalListLoading,children:medicalDocs.map(doc=>/*#__PURE__*/_jsx(\"option\",{value:doc.id,children:doc.title},doc.id))})]}),medicalDetailLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"loader-inline\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"loader-inline__icon\",\"aria-hidden\":\"true\"}),\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E0\\u05D9\\u05EA\\u05D5\\u05D7 \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9...\"]}),medicalDetail&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(QualityBadge,{score:medicalDetail.score,label:\"\\u05DE\\u05D3\\u05D3 \\u05D0\\u05D9\\u05DB\\u05D5\\u05EA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05EA\"}),/*#__PURE__*/_jsx(MedicalQualityBox,{score:medicalDetail.medicalQualityScore,findings:(_medicalDetail$qualit=medicalDetail.qualityFindings)!==null&&_medicalDetail$qualit!==void 0?_medicalDetail$qualit:[],reasoningFindings:(_medicalDetail$reason=medicalDetail.reasoningFindings)!==null&&_medicalDetail$reason!==void 0?_medicalDetail$reason:[]}),/*#__PURE__*/_jsx(KnowledgeFlags,{flags:medicalDetail.flags||[]}),/*#__PURE__*/_jsx(KnowledgeClaimsPanel,{claims:medicalDetail.claims||[],limit:5}),/*#__PURE__*/_jsx(MedicalTimeline,{events:medicalDetail.timeline||[]}),/*#__PURE__*/_jsx(LiteraturePanel,{knowledgeId:medicalDetail.id,resources:(_medicalDetail$litera=medicalDetail.literatureResources)!==null&&_medicalDetail$litera!==void 0?_medicalDetail$litera:[],onRefresh:refreshEvidenceDetail})]})]})]})]})]})})]});};export default LiabilityStep;","map":{"version":3,"names":["React","useState","useEffect","useCallback","calculateLiabilityScore","Scale","Loader2","AlertTriangle","Book","SmartAssistant","listKnowledgeDocuments","getKnowledgeDocument","QualityBadge","KnowledgeFlags","KnowledgeClaimsPanel","MedicalTimeline","MedicalQualityBox","LiteraturePanel","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LiabilityStep","_ref","_medicalDetail$qualit","_medicalDetail$reason","_medicalDetail$litera","caseData","updateCaseData","localAnalysis","setLocalAnalysis","liability","assistantOpen","setAssistantOpen","evidenceOpen","setEvidenceOpen","evidenceInitialized","setEvidenceInitialized","medicalDocs","setMedicalDocs","selectedMedicalId","setSelectedMedicalId","medicalDetail","setMedicalDetail","medicalListLoading","setMedicalListLoading","medicalDetailLoading","setMedicalDetailLoading","medicalError","setMedicalError","result","aggravatingFactors","mitigatingFactors","medicalRecordQuality","expertCourtStance","prev","_objectSpread","probability","probabilityRange","range","uncertainty","cancelled","loadDocuments","docs","docType","limit","_docs$0$id","_docs$","id","error","console","loadDetail","doc","refreshEvidenceDetail","className","children","isOpen","onClose","contextQuery","onImportPrecedent","onImportRule","dir","type","onClick","length","value","onChange","e","target","disabled","map","title","score","label","medicalQualityScore","findings","qualityFindings","reasoningFindings","flags","claims","events","timeline","knowledgeId","resources","literatureResources","onRefresh"],"sources":["C:/Office-Apps/LexMedical-App/src/components/LiabilityStep.tsx"],"sourcesContent":["import React, { useState, useEffect, Dispatch, SetStateAction, useCallback } from 'react';\nimport {\n  CaseData,\n  LiabilityAnalysis,\n  KnowledgeDocumentSummary,\n  KnowledgeDocumentDetail,\n} from '../types';\nimport { calculateLiabilityScore } from '../services/calculations';\nimport { Scale, Loader2, AlertTriangle, Book } from 'lucide-react';\nimport SmartAssistant from './SmartAssistant';\nimport { listKnowledgeDocuments, getKnowledgeDocument } from '../services/knowledgeApi';\nimport QualityBadge from './QualityBadge';\nimport KnowledgeFlags from './KnowledgeFlags';\nimport KnowledgeClaimsPanel from './KnowledgeClaimsPanel';\nimport MedicalTimeline from './MedicalTimeline';\nimport MedicalQualityBox from './MedicalQualityBox';\nimport LiteraturePanel from './LiteraturePanel';\n\ninterface Props {\n  caseData: CaseData;\n  updateCaseData: Dispatch<SetStateAction<CaseData | null>>;\n}\n\nconst LiabilityStep: React.FC<Props> = ({ caseData, updateCaseData }) => {\n  const [localAnalysis, setLocalAnalysis] = useState<LiabilityAnalysis>(caseData.liability);\n  const [assistantOpen, setAssistantOpen] = useState(false);\n  const [evidenceOpen, setEvidenceOpen] = useState(false);\n  const [evidenceInitialized, setEvidenceInitialized] = useState(false);\n  const [medicalDocs, setMedicalDocs] = useState<KnowledgeDocumentSummary[]>([]);\n  const [selectedMedicalId, setSelectedMedicalId] = useState<string>('');\n  const [medicalDetail, setMedicalDetail] = useState<KnowledgeDocumentDetail | null>(null);\n  const [medicalListLoading, setMedicalListLoading] = useState(false);\n  const [medicalDetailLoading, setMedicalDetailLoading] = useState(false);\n  const [medicalError, setMedicalError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const result = calculateLiabilityScore(\n      50,\n      localAnalysis.aggravatingFactors,\n      localAnalysis.mitigatingFactors,\n      localAnalysis.medicalRecordQuality,\n      localAnalysis.expertCourtStance\n    );\n    setLocalAnalysis((prev: LiabilityAnalysis) => ({\n      ...prev,\n      probability: result.probability,\n      probabilityRange: result.range,\n      uncertainty: result.uncertainty,\n    }));\n  }, [localAnalysis.aggravatingFactors, localAnalysis.mitigatingFactors, localAnalysis.medicalRecordQuality, localAnalysis.expertCourtStance]);\n\n  useEffect(() => {\n    if (caseData.liability === localAnalysis) return;\n    setLocalAnalysis(caseData.liability);\n  }, [caseData.liability, localAnalysis]);\n\n  useEffect(() => {\n    updateCaseData((prev) => {\n      if (!prev) return prev;\n      if (prev.liability === localAnalysis) return prev;\n      return { ...prev, liability: localAnalysis };\n    });\n  }, [localAnalysis, updateCaseData]);\n\n  useEffect(() => {\n    if (!evidenceOpen || evidenceInitialized) return;\n    let cancelled = false;\n    const loadDocuments = async () => {\n      setMedicalListLoading(true);\n      setMedicalError(null);\n      try {\n        const docs = await listKnowledgeDocuments({ docType: 'chapter', limit: 10 });\n        if (!cancelled) {\n          setMedicalDocs(docs);\n          setSelectedMedicalId(docs[0]?.id ?? '');\n          setEvidenceInitialized(true);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת ניתוחים רפואיים נכשלה.');\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalListLoading(false);\n        }\n      }\n    };\n    loadDocuments();\n    return () => {\n      cancelled = true;\n    };\n  }, [evidenceOpen, evidenceInitialized]);\n\n  useEffect(() => {\n    if (!evidenceOpen || !selectedMedicalId) {\n      setMedicalDetail(null);\n      return;\n    }\n    let cancelled = false;\n    setMedicalDetailLoading(true);\n    setMedicalError(null);\n    const loadDetail = async () => {\n      try {\n        const doc = await getKnowledgeDocument(selectedMedicalId);\n        if (!cancelled) {\n          setMedicalDetail(doc);\n        }\n      } catch (error) {\n        console.error(error);\n        if (!cancelled) {\n          setMedicalError('טעינת המסמך הרפואי נכשלה.');\n          setMedicalDetail(null);\n        }\n      } finally {\n        if (!cancelled) {\n          setMedicalDetailLoading(false);\n        }\n      }\n    };\n    loadDetail();\n    return () => {\n      cancelled = true;\n    };\n  }, [evidenceOpen, selectedMedicalId]);\n\n  const refreshEvidenceDetail = useCallback(async () => {\n    if (!selectedMedicalId) return;\n    try {\n      const doc = await getKnowledgeDocument(selectedMedicalId);\n      setMedicalDetail(doc);\n    } catch (error) {\n      console.error(error);\n      setMedicalError('טעינת המסמך הרפואי נכשלה.');\n    }\n  }, [selectedMedicalId]);\n\n  return (\n    <div className=\"flex relative\">\n      <SmartAssistant\n        isOpen={assistantOpen}\n        onClose={() => setAssistantOpen(false)}\n        contextQuery=\"\"\n        onImportPrecedent={() => {}}\n        onImportRule={() => {}}\n      />\n      <div className=\"flex-1 space-y-8 pb-12\">\n        <div className=\"card-shell\">\n          <div className=\"card-accent\" />\n          <div className=\"card-head\">\n            <h2 className=\"text-xl font-bold flex items-center gap-2\">\n              <Scale className=\"w-5 h-5 text-gold\" /> ניתוח חבות\n            </h2>\n          </div>\n          <div className=\"card-underline\" />\n          <div className=\"card-body space-y-6\">\n            <div className=\"rounded-card border border-pearl bg-pearl/40 p-4 text-center\">\n              <div className=\"text-4xl font-bold text-navy\" dir=\"ltr\">\n                {localAnalysis.probability}%\n              </div>\n              <div className=\"text-sm text-slate-light\">סיכוי לתביעה</div>\n            </div>\n            <div className=\"pt-4 border-t border-pearl/60\">\n              <button\n                type=\"button\"\n                className=\"btn-outline w-full justify-between px-4 py-3\"\n                onClick={() => setEvidenceOpen((prev) => !prev)}\n                aria-expanded={evidenceOpen}\n              >\n                <span>Medical Evidence</span>\n                <span>{evidenceOpen ? 'הסתר' : 'הצג'}</span>\n              </button>\n              {evidenceOpen && (\n                <div className=\"mt-4 space-y-4\">\n                  {medicalError && (\n                    <div className=\"state-block state-block--error text-sm\">\n                      <AlertTriangle className=\"state-block__icon\" aria-hidden=\"true\" />\n                      <p className=\"state-block__title\">טעינת המסמך נכשלה</p>\n                      <p className=\"state-block__description\">{medicalError}</p>\n                    </div>\n                  )}\n                  {medicalListLoading && (\n                    <div className=\"loader-inline\">\n                      <Loader2 className=\"loader-inline__icon\" aria-hidden=\"true\" />\n                      טוען מסמכים רפואיים...\n                    </div>\n                  )}\n                  {!medicalListLoading && medicalDocs.length === 0 && (\n                    <div className=\"state-block text-sm\">\n                      <Book className=\"state-block__icon\" aria-hidden=\"true\" />\n                      <p className=\"state-block__title\">אין מסמכים רפואיים זמינים</p>\n                      <p className=\"state-block__description\">ייבא או בחר מסמך רפואי כדי לצפות בניתוח.</p>\n                    </div>\n                  )}\n                  {medicalDocs.length > 0 && (\n                    <div>\n                      <label className=\"text-xs font-semibold text-slate-light\">בחר מסמך</label>\n                      <select\n                        className=\"mt-1 w-full rounded-card border border-pearl bg-white p-2 text-sm focus:border-gold\"\n                        value={selectedMedicalId}\n                        onChange={(e) => setSelectedMedicalId(e.target.value)}\n                        disabled={medicalListLoading}\n                      >\n                        {medicalDocs.map((doc) => (\n                          <option key={doc.id} value={doc.id}>\n                            {doc.title}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                  )}\n                  {medicalDetailLoading && (\n                    <div className=\"loader-inline\">\n                      <Loader2 className=\"loader-inline__icon\" aria-hidden=\"true\" />\n                      טוען ניתוח רפואי...\n                    </div>\n                  )}\n                  {medicalDetail && (\n                    <>\n                      <QualityBadge score={medicalDetail.score} label=\"מדד איכות רפואית\" />\n                      <MedicalQualityBox\n                        score={medicalDetail.medicalQualityScore}\n                        findings={medicalDetail.qualityFindings ?? []}\n                        reasoningFindings={medicalDetail.reasoningFindings ?? []}\n                      />\n                      <KnowledgeFlags flags={medicalDetail.flags || []} />\n                      <KnowledgeClaimsPanel claims={medicalDetail.claims || []} limit={5} />\n                      <MedicalTimeline events={medicalDetail.timeline || []} />\n                      <LiteraturePanel\n                        knowledgeId={medicalDetail.id}\n                        resources={medicalDetail.literatureResources ?? []}\n                        onRefresh={refreshEvidenceDetail}\n                      />\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default LiabilityStep;"],"mappings":"kHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAA4BC,WAAW,KAAQ,OAAO,CAOzF,OAASC,uBAAuB,KAAQ,0BAA0B,CAClE,OAASC,KAAK,CAAEC,OAAO,CAAEC,aAAa,CAAEC,IAAI,KAAQ,cAAc,CAClE,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,OAASC,sBAAsB,CAAEC,oBAAoB,KAAQ,0BAA0B,CACvF,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,oBAAoB,KAAM,wBAAwB,CACzD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAC/C,MAAO,CAAAC,iBAAiB,KAAM,qBAAqB,CACnD,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAOhD,KAAM,CAAAC,aAA8B,CAAGC,IAAA,EAAkC,KAAAC,qBAAA,CAAAC,qBAAA,CAAAC,qBAAA,IAAjC,CAAEC,QAAQ,CAAEC,cAAe,CAAC,CAAAL,IAAA,CAClE,KAAM,CAACM,aAAa,CAAEC,gBAAgB,CAAC,CAAG/B,QAAQ,CAAoB4B,QAAQ,CAACI,SAAS,CAAC,CACzF,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CACzD,KAAM,CAACmC,YAAY,CAAEC,eAAe,CAAC,CAAGpC,QAAQ,CAAC,KAAK,CAAC,CACvD,KAAM,CAACqC,mBAAmB,CAAEC,sBAAsB,CAAC,CAAGtC,QAAQ,CAAC,KAAK,CAAC,CACrE,KAAM,CAACuC,WAAW,CAAEC,cAAc,CAAC,CAAGxC,QAAQ,CAA6B,EAAE,CAAC,CAC9E,KAAM,CAACyC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAG1C,QAAQ,CAAS,EAAE,CAAC,CACtE,KAAM,CAAC2C,aAAa,CAAEC,gBAAgB,CAAC,CAAG5C,QAAQ,CAAiC,IAAI,CAAC,CACxF,KAAM,CAAC6C,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CACnE,KAAM,CAAC+C,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGhD,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAACiD,YAAY,CAAEC,eAAe,CAAC,CAAGlD,QAAQ,CAAgB,IAAI,CAAC,CAErEC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAkD,MAAM,CAAGhD,uBAAuB,CACpC,EAAE,CACF2B,aAAa,CAACsB,kBAAkB,CAChCtB,aAAa,CAACuB,iBAAiB,CAC/BvB,aAAa,CAACwB,oBAAoB,CAClCxB,aAAa,CAACyB,iBAChB,CAAC,CACDxB,gBAAgB,CAAEyB,IAAuB,EAAAC,aAAA,CAAAA,aAAA,IACpCD,IAAI,MACPE,WAAW,CAAEP,MAAM,CAACO,WAAW,CAC/BC,gBAAgB,CAAER,MAAM,CAACS,KAAK,CAC9BC,WAAW,CAAEV,MAAM,CAACU,WAAW,EAC/B,CAAC,CACL,CAAC,CAAE,CAAC/B,aAAa,CAACsB,kBAAkB,CAAEtB,aAAa,CAACuB,iBAAiB,CAAEvB,aAAa,CAACwB,oBAAoB,CAAExB,aAAa,CAACyB,iBAAiB,CAAC,CAAC,CAE5ItD,SAAS,CAAC,IAAM,CACd,GAAI2B,QAAQ,CAACI,SAAS,GAAKF,aAAa,CAAE,OAC1CC,gBAAgB,CAACH,QAAQ,CAACI,SAAS,CAAC,CACtC,CAAC,CAAE,CAACJ,QAAQ,CAACI,SAAS,CAAEF,aAAa,CAAC,CAAC,CAEvC7B,SAAS,CAAC,IAAM,CACd4B,cAAc,CAAE2B,IAAI,EAAK,CACvB,GAAI,CAACA,IAAI,CAAE,MAAO,CAAAA,IAAI,CACtB,GAAIA,IAAI,CAACxB,SAAS,GAAKF,aAAa,CAAE,MAAO,CAAA0B,IAAI,CACjD,OAAAC,aAAA,CAAAA,aAAA,IAAYD,IAAI,MAAExB,SAAS,CAAEF,aAAa,GAC5C,CAAC,CAAC,CACJ,CAAC,CAAE,CAACA,aAAa,CAAED,cAAc,CAAC,CAAC,CAEnC5B,SAAS,CAAC,IAAM,CACd,GAAI,CAACkC,YAAY,EAAIE,mBAAmB,CAAE,OAC1C,GAAI,CAAAyB,SAAS,CAAG,KAAK,CACrB,KAAM,CAAAC,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChCjB,qBAAqB,CAAC,IAAI,CAAC,CAC3BI,eAAe,CAAC,IAAI,CAAC,CACrB,GAAI,CACF,KAAM,CAAAc,IAAI,CAAG,KAAM,CAAAvD,sBAAsB,CAAC,CAAEwD,OAAO,CAAE,SAAS,CAAEC,KAAK,CAAE,EAAG,CAAC,CAAC,CAC5E,GAAI,CAACJ,SAAS,CAAE,KAAAK,UAAA,CAAAC,MAAA,CACd5B,cAAc,CAACwB,IAAI,CAAC,CACpBtB,oBAAoB,EAAAyB,UAAA,EAAAC,MAAA,CAACJ,IAAI,CAAC,CAAC,CAAC,UAAAI,MAAA,iBAAPA,MAAA,CAASC,EAAE,UAAAF,UAAA,UAAAA,UAAA,CAAI,EAAE,CAAC,CACvC7B,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CACF,CAAE,MAAOgC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACpB,GAAI,CAACR,SAAS,CAAE,CACdZ,eAAe,CAAC,8BAA8B,CAAC,CACjD,CACF,CAAC,OAAS,CACR,GAAI,CAACY,SAAS,CAAE,CACdhB,qBAAqB,CAAC,KAAK,CAAC,CAC9B,CACF,CACF,CAAC,CACDiB,aAAa,CAAC,CAAC,CACf,MAAO,IAAM,CACXD,SAAS,CAAG,IAAI,CAClB,CAAC,CACH,CAAC,CAAE,CAAC3B,YAAY,CAAEE,mBAAmB,CAAC,CAAC,CAEvCpC,SAAS,CAAC,IAAM,CACd,GAAI,CAACkC,YAAY,EAAI,CAACM,iBAAiB,CAAE,CACvCG,gBAAgB,CAAC,IAAI,CAAC,CACtB,OACF,CACA,GAAI,CAAAkB,SAAS,CAAG,KAAK,CACrBd,uBAAuB,CAAC,IAAI,CAAC,CAC7BE,eAAe,CAAC,IAAI,CAAC,CACrB,KAAM,CAAAsB,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAA/D,oBAAoB,CAAC+B,iBAAiB,CAAC,CACzD,GAAI,CAACqB,SAAS,CAAE,CACdlB,gBAAgB,CAAC6B,GAAG,CAAC,CACvB,CACF,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACpB,GAAI,CAACR,SAAS,CAAE,CACdZ,eAAe,CAAC,2BAA2B,CAAC,CAC5CN,gBAAgB,CAAC,IAAI,CAAC,CACxB,CACF,CAAC,OAAS,CACR,GAAI,CAACkB,SAAS,CAAE,CACdd,uBAAuB,CAAC,KAAK,CAAC,CAChC,CACF,CACF,CAAC,CACDwB,UAAU,CAAC,CAAC,CACZ,MAAO,IAAM,CACXV,SAAS,CAAG,IAAI,CAClB,CAAC,CACH,CAAC,CAAE,CAAC3B,YAAY,CAAEM,iBAAiB,CAAC,CAAC,CAErC,KAAM,CAAAiC,qBAAqB,CAAGxE,WAAW,CAAC,SAAY,CACpD,GAAI,CAACuC,iBAAiB,CAAE,OACxB,GAAI,CACF,KAAM,CAAAgC,GAAG,CAAG,KAAM,CAAA/D,oBAAoB,CAAC+B,iBAAiB,CAAC,CACzDG,gBAAgB,CAAC6B,GAAG,CAAC,CACvB,CAAE,MAAOH,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC,CACpBpB,eAAe,CAAC,2BAA2B,CAAC,CAC9C,CACF,CAAC,CAAE,CAACT,iBAAiB,CAAC,CAAC,CAEvB,mBACErB,KAAA,QAAKuD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1D,IAAA,CAACV,cAAc,EACbqE,MAAM,CAAE5C,aAAc,CACtB6C,OAAO,CAAEA,CAAA,GAAM5C,gBAAgB,CAAC,KAAK,CAAE,CACvC6C,YAAY,CAAC,EAAE,CACfC,iBAAiB,CAAEA,CAAA,GAAM,CAAC,CAAE,CAC5BC,YAAY,CAAEA,CAAA,GAAM,CAAC,CAAE,CACxB,CAAC,cACF/D,IAAA,QAAKyD,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrCxD,KAAA,QAAKuD,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB1D,IAAA,QAAKyD,SAAS,CAAC,aAAa,CAAE,CAAC,cAC/BzD,IAAA,QAAKyD,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBxD,KAAA,OAAIuD,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACvD1D,IAAA,CAACd,KAAK,EAACuE,SAAS,CAAC,mBAAmB,CAAE,CAAC,2DACzC,EAAI,CAAC,CACF,CAAC,cACNzD,IAAA,QAAKyD,SAAS,CAAC,gBAAgB,CAAE,CAAC,cAClCvD,KAAA,QAAKuD,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCxD,KAAA,QAAKuD,SAAS,CAAC,8DAA8D,CAAAC,QAAA,eAC3ExD,KAAA,QAAKuD,SAAS,CAAC,8BAA8B,CAACO,GAAG,CAAC,KAAK,CAAAN,QAAA,EACpD9C,aAAa,CAAC4B,WAAW,CAAC,GAC7B,EAAK,CAAC,cACNxC,IAAA,QAAKyD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,qEAAY,CAAK,CAAC,EACzD,CAAC,cACNxD,KAAA,QAAKuD,SAAS,CAAC,+BAA+B,CAAAC,QAAA,eAC5CxD,KAAA,WACE+D,IAAI,CAAC,QAAQ,CACbR,SAAS,CAAC,8CAA8C,CACxDS,OAAO,CAAEA,CAAA,GAAMhD,eAAe,CAAEoB,IAAI,EAAK,CAACA,IAAI,CAAE,CAChD,gBAAerB,YAAa,CAAAyC,QAAA,eAE5B1D,IAAA,SAAA0D,QAAA,CAAM,kBAAgB,CAAM,CAAC,cAC7B1D,IAAA,SAAA0D,QAAA,CAAOzC,YAAY,CAAG,MAAM,CAAG,KAAK,CAAO,CAAC,EACtC,CAAC,CACRA,YAAY,eACXf,KAAA,QAAKuD,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5B3B,YAAY,eACX7B,KAAA,QAAKuD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrD1D,IAAA,CAACZ,aAAa,EAACqE,SAAS,CAAC,mBAAmB,CAAC,cAAY,MAAM,CAAE,CAAC,cAClEzD,IAAA,MAAGyD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,8FAAiB,CAAG,CAAC,cACvD1D,IAAA,MAAGyD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAE3B,YAAY,CAAI,CAAC,EACvD,CACN,CACAJ,kBAAkB,eACjBzB,KAAA,QAAKuD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1D,IAAA,CAACb,OAAO,EAACsE,SAAS,CAAC,qBAAqB,CAAC,cAAY,MAAM,CAAE,CAAC,8GAEhE,EAAK,CACN,CACA,CAAC9B,kBAAkB,EAAIN,WAAW,CAAC8C,MAAM,GAAK,CAAC,eAC9CjE,KAAA,QAAKuD,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC1D,IAAA,CAACX,IAAI,EAACoE,SAAS,CAAC,mBAAmB,CAAC,cAAY,MAAM,CAAE,CAAC,cACzDzD,IAAA,MAAGyD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,yIAAyB,CAAG,CAAC,cAC/D1D,IAAA,MAAGyD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,CAAC,0MAAwC,CAAG,CAAC,EACjF,CACN,CACArC,WAAW,CAAC8C,MAAM,CAAG,CAAC,eACrBjE,KAAA,QAAAwD,QAAA,eACE1D,IAAA,UAAOyD,SAAS,CAAC,wCAAwC,CAAAC,QAAA,CAAC,6CAAQ,CAAO,CAAC,cAC1E1D,IAAA,WACEyD,SAAS,CAAC,qFAAqF,CAC/FW,KAAK,CAAE7C,iBAAkB,CACzB8C,QAAQ,CAAGC,CAAC,EAAK9C,oBAAoB,CAAC8C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CACtDI,QAAQ,CAAE7C,kBAAmB,CAAA+B,QAAA,CAE5BrC,WAAW,CAACoD,GAAG,CAAElB,GAAG,eACnBvD,IAAA,WAAqBoE,KAAK,CAAEb,GAAG,CAACJ,EAAG,CAAAO,QAAA,CAChCH,GAAG,CAACmB,KAAK,EADCnB,GAAG,CAACJ,EAET,CACT,CAAC,CACI,CAAC,EACN,CACN,CACAtB,oBAAoB,eACnB3B,KAAA,QAAKuD,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5B1D,IAAA,CAACb,OAAO,EAACsE,SAAS,CAAC,qBAAqB,CAAC,cAAY,MAAM,CAAE,CAAC,4FAEhE,EAAK,CACN,CACAhC,aAAa,eACZvB,KAAA,CAAAE,SAAA,EAAAsD,QAAA,eACE1D,IAAA,CAACP,YAAY,EAACkF,KAAK,CAAElD,aAAa,CAACkD,KAAM,CAACC,KAAK,CAAC,wFAAkB,CAAE,CAAC,cACrE5E,IAAA,CAACH,iBAAiB,EAChB8E,KAAK,CAAElD,aAAa,CAACoD,mBAAoB,CACzCC,QAAQ,EAAAvE,qBAAA,CAAEkB,aAAa,CAACsD,eAAe,UAAAxE,qBAAA,UAAAA,qBAAA,CAAI,EAAG,CAC9CyE,iBAAiB,EAAAxE,qBAAA,CAAEiB,aAAa,CAACuD,iBAAiB,UAAAxE,qBAAA,UAAAA,qBAAA,CAAI,EAAG,CAC1D,CAAC,cACFR,IAAA,CAACN,cAAc,EAACuF,KAAK,CAAExD,aAAa,CAACwD,KAAK,EAAI,EAAG,CAAE,CAAC,cACpDjF,IAAA,CAACL,oBAAoB,EAACuF,MAAM,CAAEzD,aAAa,CAACyD,MAAM,EAAI,EAAG,CAAClC,KAAK,CAAE,CAAE,CAAE,CAAC,cACtEhD,IAAA,CAACJ,eAAe,EAACuF,MAAM,CAAE1D,aAAa,CAAC2D,QAAQ,EAAI,EAAG,CAAE,CAAC,cACzDpF,IAAA,CAACF,eAAe,EACduF,WAAW,CAAE5D,aAAa,CAAC0B,EAAG,CAC9BmC,SAAS,EAAA7E,qBAAA,CAAEgB,aAAa,CAAC8D,mBAAmB,UAAA9E,qBAAA,UAAAA,qBAAA,CAAI,EAAG,CACnD+E,SAAS,CAAEhC,qBAAsB,CAClC,CAAC,EACF,CACH,EACE,CACN,EACE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAAC,CACD,cAAe,CAAAnD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}