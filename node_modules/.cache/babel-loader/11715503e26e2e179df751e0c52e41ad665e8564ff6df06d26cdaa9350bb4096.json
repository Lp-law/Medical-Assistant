{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDate=event=>{if(!event.date){return'ללא תאריך';}switch(event.datePrecision){case'day':{const parsed=new Date(event.date);return Number.isNaN(parsed.getTime())?event.date:parsed.toLocaleDateString('he-IL');}case'month':{const[year,month]=event.date.split('-');return\"\".concat(month,\"/\").concat(year);}case'year':return event.date;default:return'ללא תאריך';}};const MedicalTimeline=_ref=>{let{events}=_ref;if(!events.length){return/*#__PURE__*/_jsx(\"div\",{className:\"rounded border border-slate-200 bg-white p-4 text-sm text-slate-500\",children:\"\\u05DC\\u05D0 \\u05E0\\u05DE\\u05E6\\u05D0\\u05D5 \\u05D0\\u05D9\\u05E8\\u05D5\\u05E2\\u05D9\\u05DD \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05D9\\u05DD \\u05DC\\u05E6\\u05D9\\u05E8 \\u05D6\\u05DE\\u05DF.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded border border-slate-200 bg-white p-4 space-y-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-bold text-slate-700\",children:\"\\u05E6\\u05D9\\u05E8 \\u05D6\\u05DE\\u05DF \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\"}),/*#__PURE__*/_jsx(\"ol\",{className:\"space-y-3\",children:events.map(event=>{var _event$source,_event$source2,_event$source3;return/*#__PURE__*/_jsxs(\"li\",{className:\"border border-slate-100 rounded p-3 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-slate-500\",children:[/*#__PURE__*/_jsx(\"span\",{children:formatDate(event)}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:event.type})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-slate-800 whitespace-pre-line\",children:event.description}),event.aggregatedCount&&event.aggregatedCount>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs font-semibold text-blue-600\",children:[\"\\u05DB\\u05D5\\u05DC\\u05DC \",event.aggregatedCount,\" \\u05D0\\u05D9\\u05E8\\u05D5\\u05E2\\u05D9\\u05DD\"]}),((_event$source=event.source)===null||_event$source===void 0?void 0:_event$source.snippet)&&/*#__PURE__*/_jsx(\"p\",{className:\"rounded bg-slate-50 p-2 text-xs text-slate-600\",children:event.source.snippet}),(((_event$source2=event.source)===null||_event$source2===void 0?void 0:_event$source2.page)||((_event$source3=event.source)===null||_event$source3===void 0?void 0:_event$source3.lineRange))&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-slate-500\",children:[event.source.page?\"\\u05E2\\u05DE\\u05D5\\u05D3 \".concat(event.source.page):'',event.source.lineRange?\" \\xB7 \\u05E9\\u05D5\\u05E8\\u05D5\\u05EA \".concat(event.source.lineRange[0],\"-\").concat(event.source.lineRange[1]):'']})]},event.id);})})]});};export default MedicalTimeline;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","formatDate","event","date","datePrecision","parsed","Date","Number","isNaN","getTime","toLocaleDateString","year","month","split","concat","MedicalTimeline","_ref","events","length","className","children","map","_event$source","_event$source2","_event$source3","type","description","aggregatedCount","source","snippet","page","lineRange","id"],"sources":["C:/Office-Apps/LexMedical-App/src/components/MedicalTimeline.tsx"],"sourcesContent":["import React from 'react';\r\nimport { KnowledgeTimelineEvent } from '../types';\r\n\r\ninterface Props {\r\n  events: KnowledgeTimelineEvent[];\r\n}\r\n\r\nconst formatDate = (event: KnowledgeTimelineEvent): string => {\r\n  if (!event.date) {\r\n    return 'ללא תאריך';\r\n  }\r\n  switch (event.datePrecision) {\r\n    case 'day': {\r\n      const parsed = new Date(event.date);\r\n      return Number.isNaN(parsed.getTime()) ? event.date : parsed.toLocaleDateString('he-IL');\r\n    }\r\n    case 'month': {\r\n      const [year, month] = event.date.split('-');\r\n      return `${month}/${year}`;\r\n    }\r\n    case 'year':\r\n      return event.date;\r\n    default:\r\n      return 'ללא תאריך';\r\n  }\r\n};\r\n\r\nconst MedicalTimeline: React.FC<Props> = ({ events }) => {\r\n  if (!events.length) {\r\n    return (\r\n      <div className=\"rounded border border-slate-200 bg-white p-4 text-sm text-slate-500\">\r\n        לא נמצאו אירועים רפואיים לציר זמן.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"rounded border border-slate-200 bg-white p-4 space-y-3\">\r\n      <h3 className=\"text-sm font-bold text-slate-700\">ציר זמן רפואי</h3>\r\n      <ol className=\"space-y-3\">\r\n        {events.map((event) => (\r\n          <li key={event.id} className=\"border border-slate-100 rounded p-3 space-y-2\">\r\n            <div className=\"flex items-center justify-between text-xs text-slate-500\">\r\n              <span>{formatDate(event)}</span>\r\n              <span className=\"font-semibold text-slate-700\">{event.type}</span>\r\n            </div>\r\n            <div className=\"text-sm text-slate-800 whitespace-pre-line\">{event.description}</div>\r\n            {event.aggregatedCount && event.aggregatedCount > 1 && (\r\n              <div className=\"text-xs font-semibold text-blue-600\">\r\n                כולל {event.aggregatedCount} אירועים\r\n              </div>\r\n            )}\r\n            {event.source?.snippet && (\r\n              <p className=\"rounded bg-slate-50 p-2 text-xs text-slate-600\">{event.source.snippet}</p>\r\n            )}\r\n            {(event.source?.page || event.source?.lineRange) && (\r\n              <div className=\"text-xs text-slate-500\">\r\n                {event.source.page ? `עמוד ${event.source.page}` : ''}\r\n                {event.source.lineRange ? ` · שורות ${event.source.lineRange[0]}-${event.source.lineRange[1]}` : ''}\r\n              </div>\r\n            )}\r\n          </li>\r\n        ))}\r\n      </ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MedicalTimeline;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}