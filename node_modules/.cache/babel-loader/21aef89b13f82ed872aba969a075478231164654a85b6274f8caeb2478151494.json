{"ast":null,"code":"import React,{useMemo,useState}from'react';import{downloadLiterature,searchLiterature,summarizeLiterature}from'../services/literatureApi';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const oaLabel=status=>{if(status==='open')return'Open Access';if(status==='no_oa')return'No OA';if(status==='closed')return'Closed';return status||'unknown';};const summaryQualityLabel={good:'סיכום מלא',partial:'סיכום חלקי',failed:'סיכום נכשל',unknown:'לא זמין'};const LiteraturePanel=_ref=>{let{knowledgeId,resources,onRefresh}=_ref;const[loadingAction,setLoadingAction]=useState(null);const[error,setError]=useState(null);const[openResource,setOpenResource]=useState(null);const sortedResources=useMemo(()=>[...(resources!==null&&resources!==void 0?resources:[])].sort((a,b)=>{var _b$fetchedAt,_a$fetchedAt;return((_b$fetchedAt=b.fetchedAt)!==null&&_b$fetchedAt!==void 0?_b$fetchedAt:'').localeCompare((_a$fetchedAt=a.fetchedAt)!==null&&_a$fetchedAt!==void 0?_a$fetchedAt:'');}),[resources]);const handleAction=async(action,targetId)=>{try{setLoadingAction(action);setError(null);if(action==='search'){await searchLiterature(knowledgeId);}else if(action==='download'){await downloadLiterature(knowledgeId,targetId?[targetId]:undefined);}else if(action==='summarize'){await summarizeLiterature(knowledgeId,targetId?[targetId]:undefined);}await onRefresh();}catch(err){var _err$message;setError((_err$message=err===null||err===void 0?void 0:err.message)!==null&&_err$message!==void 0?_err$message:'literature_action_failed');}finally{setLoadingAction(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"card-shell\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-accent\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-head\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold\",children:\"\\u05E0\\u05E1\\u05E4\\u05D7\\u05D9 \\u05E1\\u05E4\\u05E8\\u05D5\\u05EA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05EA\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-light\",children:\"\\u05DE\\u05E7\\u05D5\\u05E8\\u05D5\\u05EA \\u05EA\\u05D5\\u05DE\\u05DB\\u05D9\\u05DD \\u05DC\\u05D7\\u05D9\\u05D6\\u05D5\\u05E7 \\u05D4\\u05EA\\u05D9\\u05E7\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-primary text-[11px] px-4 py-1.5\",onClick:()=>handleAction('search'),disabled:loadingAction==='search',children:loadingAction==='search'?'מחפש...':'סרוק מאמרים'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-underline\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-danger/30 bg-danger/10 px-6 py-3 text-xs text-danger\",children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body space-y-3 text-sm text-navy\",children:!sortedResources.length?/*#__PURE__*/_jsx(\"div\",{className:\"rounded-card border border-dashed border-pearl bg-pearl/40 p-4 text-sm text-slate\",children:\"\\u05D8\\u05E8\\u05DD \\u05E0\\u05DE\\u05E6\\u05D0\\u05D5 \\u05DE\\u05D0\\u05DE\\u05E8\\u05D9\\u05DD. \\u05E0\\u05D9\\u05EA\\u05DF \\u05DC\\u05D4\\u05EA\\u05D7\\u05D9\\u05DC \\u05D7\\u05D9\\u05E4\\u05D5\\u05E9 \\u05DB\\u05D3\\u05D9 \\u05DC\\u05D4\\u05E2\\u05E9\\u05D9\\u05E8 \\u05D0\\u05EA \\u05D4\\u05EA\\u05D9\\u05E7.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:sortedResources.map(resource=>{var _resource$year,_summaryQualityLabel$,_resource$summaryJson,_resource$summaryJson2,_resource$summaryJson3,_resource$summaryJson4,_resource$summaryJson5,_resource$summaryJson6,_resource$summaryJson7;const isOpen=openResource===resource.id;return/*#__PURE__*/_jsxs(\"article\",{className:\"mini-card\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-base font-semibold\",children:resource.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-light\",children:[resource.journal||'כתב עת לא ידוע',\" \\xB7 \",(_resource$year=resource.year)!==null&&_resource$year!==void 0?_resource$year:'—']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap items-center gap-2 text-xs\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-pearl text-navy\",children:oaLabel(resource.oaStatus)}),resource.summaryQuality&&resource.summaryQuality!=='unknown'&&/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-gold/15 text-navy\",children:(_summaryQualityLabel$=summaryQualityLabel[resource.summaryQuality])!==null&&_summaryQualityLabel$!==void 0?_summaryQualityLabel$:resource.summaryQuality})]})]}),resource.linkedClaimIds&&resource.linkedClaimIds.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 text-[11px] text-slate-light\",children:resource.linkedClaimIds.map(claimId=>/*#__PURE__*/_jsxs(\"span\",{className:\"rounded-full bg-pearl px-2 py-0.5\",children:[\"\\u05D8\\u05E2\\u05E0\\u05D4 #\",claimId]},claimId))}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 text-xs\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-secondary text-[11px] px-3 py-1.5\",onClick:()=>setOpenResource(prev=>prev===resource.id?null:resource.id),children:isOpen?'הסתר נספח':'פתח נספח'}),resource.oaStatus==='open'&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-outline text-[11px] px-3 py-1.5\",onClick:()=>handleAction('download',resource.id),disabled:loadingAction==='download',children:resource.downloadStatus==='downloaded'?'PDF קיים':'הורד PDF'}),resource.downloadStatus==='downloaded'&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-outline text-[11px] px-3 py-1.5\",onClick:()=>handleAction('summarize',resource.id),disabled:loadingAction==='summarize',children:resource.summaryJson?'סיכום מוכן':'בצע סיכום'}),resource.url&&/*#__PURE__*/_jsx(\"a\",{href:resource.url,target:\"_blank\",rel:\"noreferrer\",className:\"btn-outline text-[11px] px-3 py-1.5\",children:\"\\u05E4\\u05EA\\u05D7 \\u05DE\\u05E7\\u05D5\\u05E8\"})]}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 pt-3 border-t border-pearl/60\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-light\",children:\"\\u05EA\\u05E7\\u05E6\\u05D9\\u05E8 \\u05D7\\u05D5\\u05E4\\u05E9\\u05D9\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-navy\",children:(_resource$summaryJson=(_resource$summaryJson2=resource.summaryJson)===null||_resource$summaryJson2===void 0?void 0:_resource$summaryJson2.summary)!==null&&_resource$summaryJson!==void 0?_resource$summaryJson:'לא זמין'})]}),!!((_resource$summaryJson3=resource.summaryJson)!==null&&_resource$summaryJson3!==void 0&&(_resource$summaryJson4=_resource$summaryJson3.keyFindings)!==null&&_resource$summaryJson4!==void 0&&_resource$summaryJson4.length)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-light\",children:\"\\u05DE\\u05DE\\u05E6\\u05D0\\u05D9\\u05DD \\u05E2\\u05D9\\u05E7\\u05E8\\u05D9\\u05D9\\u05DD\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc space-y-1 pr-5 text-sm text-navy\",children:resource.summaryJson.keyFindings.map((finding,index)=>/*#__PURE__*/_jsx(\"li\",{children:finding},\"\".concat(resource.id,\"-finding-\").concat(index)))})]}),!!((_resource$summaryJson5=resource.summaryJson)!==null&&_resource$summaryJson5!==void 0&&(_resource$summaryJson6=_resource$summaryJson5.limitations)!==null&&_resource$summaryJson6!==void 0&&_resource$summaryJson6.length)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-light\",children:\"\\u05DE\\u05D2\\u05D1\\u05DC\\u05D5\\u05EA\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc space-y-1 pr-5 text-sm text-navy\",children:resource.summaryJson.limitations.map((limitation,index)=>/*#__PURE__*/_jsx(\"li\",{children:limitation},\"\".concat(resource.id,\"-limitation-\").concat(index)))})]}),((_resource$summaryJson7=resource.summaryJson)===null||_resource$summaryJson7===void 0?void 0:_resource$summaryJson7.bottomLine)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-slate-light\",children:\"Bottom line\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-navy\",children:resource.summaryJson.bottomLine})]})]})]},resource.id);})})})]});};export default LiteraturePanel;","map":{"version":3,"names":["React","useMemo","useState","downloadLiterature","searchLiterature","summarizeLiterature","jsx","_jsx","jsxs","_jsxs","oaLabel","status","summaryQualityLabel","good","partial","failed","unknown","LiteraturePanel","_ref","knowledgeId","resources","onRefresh","loadingAction","setLoadingAction","error","setError","openResource","setOpenResource","sortedResources","sort","a","b","_b$fetchedAt","_a$fetchedAt","fetchedAt","localeCompare","handleAction","action","targetId","undefined","err","_err$message","message","className","children","type","onClick","disabled","length","map","resource","_resource$year","_summaryQualityLabel$","_resource$summaryJson","_resource$summaryJson2","_resource$summaryJson3","_resource$summaryJson4","_resource$summaryJson5","_resource$summaryJson6","_resource$summaryJson7","isOpen","id","title","journal","year","oaStatus","summaryQuality","linkedClaimIds","claimId","prev","downloadStatus","summaryJson","url","href","target","rel","summary","keyFindings","finding","index","concat","limitations","limitation","bottomLine"],"sources":["C:/Office-Apps/LexMedical-App/src/components/LiteraturePanel.tsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { LiteratureResource } from '../types';\r\nimport { downloadLiterature, searchLiterature, summarizeLiterature } from '../services/literatureApi';\r\n\r\ninterface Props {\r\n  knowledgeId: string;\r\n  resources: LiteratureResource[];\r\n  onRefresh: () => Promise<void>;\r\n}\r\n\r\nconst oaLabel = (status?: string): string => {\r\n  if (status === 'open') return 'Open Access';\r\n  if (status === 'no_oa') return 'No OA';\r\n  if (status === 'closed') return 'Closed';\r\n  return status || 'unknown';\r\n};\r\n\r\nconst summaryQualityLabel: Record<string, string> = {\r\n  good: 'סיכום מלא',\r\n  partial: 'סיכום חלקי',\r\n  failed: 'סיכום נכשל',\r\n  unknown: 'לא זמין',\r\n};\r\n\r\nconst LiteraturePanel: React.FC<Props> = ({ knowledgeId, resources, onRefresh }) => {\r\n  const [loadingAction, setLoadingAction] = useState<'search' | 'download' | 'summarize' | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [openResource, setOpenResource] = useState<string | null>(null);\r\n\r\n  const sortedResources = useMemo(\r\n    () =>\r\n      [...(resources ?? [])].sort((a, b) => (b.fetchedAt ?? '').localeCompare(a.fetchedAt ?? '')),\r\n    [resources],\r\n  );\r\n\r\n  const handleAction = async (action: 'search' | 'download' | 'summarize', targetId?: string) => {\r\n    try {\r\n      setLoadingAction(action);\r\n      setError(null);\r\n      if (action === 'search') {\r\n        await searchLiterature(knowledgeId);\r\n      } else if (action === 'download') {\r\n        await downloadLiterature(knowledgeId, targetId ? [targetId] : undefined);\r\n      } else if (action === 'summarize') {\r\n        await summarizeLiterature(knowledgeId, targetId ? [targetId] : undefined);\r\n      }\r\n      await onRefresh();\r\n    } catch (err: any) {\r\n      setError(err?.message ?? 'literature_action_failed');\r\n    } finally {\r\n      setLoadingAction(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"card-shell\">\r\n      <div className=\"card-accent\" />\r\n      <div className=\"card-head\">\r\n        <div>\r\n          <h3 className=\"text-sm font-semibold\">נספחי ספרות רפואית</h3>\r\n          <p className=\"text-xs text-slate-light\">מקורות תומכים לחיזוק התיק</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn-primary text-[11px] px-4 py-1.5\"\r\n          onClick={() => handleAction('search')}\r\n          disabled={loadingAction === 'search'}\r\n        >\r\n          {loadingAction === 'search' ? 'מחפש...' : 'סרוק מאמרים'}\r\n        </button>\r\n      </div>\r\n      <div className=\"card-underline\" />\r\n      {error && <div className=\"border-b border-danger/30 bg-danger/10 px-6 py-3 text-xs text-danger\">{error}</div>}\r\n      <div className=\"card-body space-y-3 text-sm text-navy\">\r\n        {!sortedResources.length ? (\r\n          <div className=\"rounded-card border border-dashed border-pearl bg-pearl/40 p-4 text-sm text-slate\">\r\n            טרם נמצאו מאמרים. ניתן להתחיל חיפוש כדי להעשיר את התיק.\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-4\">\r\n            {sortedResources.map((resource) => {\r\n              const isOpen = openResource === resource.id;\r\n              return (\r\n                <article key={resource.id} className=\"mini-card\">\r\n                  <header className=\"flex flex-col gap-2 md:flex-row md:items-center md:justify-between\">\r\n                    <div>\r\n                      <p className=\"text-base font-semibold\">{resource.title}</p>\r\n                      <p className=\"text-xs text-slate-light\">\r\n                        {resource.journal || 'כתב עת לא ידוע'} · {resource.year ?? '—'}\r\n                      </p>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap items-center gap-2 text-xs\">\r\n                      <span className=\"badge bg-pearl text-navy\">{oaLabel(resource.oaStatus)}</span>\r\n                      {resource.summaryQuality && resource.summaryQuality !== 'unknown' && (\r\n                        <span className=\"badge bg-gold/15 text-navy\">\r\n                          {summaryQualityLabel[resource.summaryQuality] ?? resource.summaryQuality}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </header>\r\n                  {resource.linkedClaimIds && resource.linkedClaimIds.length > 0 && (\r\n                    <div className=\"flex flex-wrap gap-1 text-[11px] text-slate-light\">\r\n                      {resource.linkedClaimIds.map((claimId) => (\r\n                        <span key={claimId} className=\"rounded-full bg-pearl px-2 py-0.5\">\r\n                          טענה #{claimId}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex flex-wrap gap-2 text-xs\">\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"btn-secondary text-[11px] px-3 py-1.5\"\r\n                      onClick={() => setOpenResource((prev) => (prev === resource.id ? null : resource.id))}\r\n                    >\r\n                      {isOpen ? 'הסתר נספח' : 'פתח נספח'}\r\n                    </button>\r\n                    {resource.oaStatus === 'open' && (\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn-outline text-[11px] px-3 py-1.5\"\r\n                        onClick={() => handleAction('download', resource.id)}\r\n                        disabled={loadingAction === 'download'}\r\n                      >\r\n                        {resource.downloadStatus === 'downloaded' ? 'PDF קיים' : 'הורד PDF'}\r\n                      </button>\r\n                    )}\r\n                    {resource.downloadStatus === 'downloaded' && (\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn-outline text-[11px] px-3 py-1.5\"\r\n                        onClick={() => handleAction('summarize', resource.id)}\r\n                        disabled={loadingAction === 'summarize'}\r\n                      >\r\n                        {resource.summaryJson ? 'סיכום מוכן' : 'בצע סיכום'}\r\n                      </button>\r\n                    )}\r\n                    {resource.url && (\r\n                      <a\r\n                        href={resource.url}\r\n                        target=\"_blank\"\r\n                        rel=\"noreferrer\"\r\n                        className=\"btn-outline text-[11px] px-3 py-1.5\"\r\n                      >\r\n                        פתח מקור\r\n                      </a>\r\n                    )}\r\n                  </div>\r\n                  {isOpen && (\r\n                    <div className=\"space-y-3 pt-3 border-t border-pearl/60\">\r\n                      <div>\r\n                        <p className=\"text-xs font-semibold text-slate-light\">תקציר חופשי</p>\r\n                        <p className=\"text-sm text-navy\">{resource.summaryJson?.summary ?? 'לא זמין'}</p>\r\n                      </div>\r\n                      {!!resource.summaryJson?.keyFindings?.length && (\r\n                        <div>\r\n                          <p className=\"text-xs font-semibold text-slate-light\">ממצאים עיקריים</p>\r\n                          <ul className=\"list-disc space-y-1 pr-5 text-sm text-navy\">\r\n                            {resource.summaryJson.keyFindings.map((finding: string, index: number) => (\r\n                              <li key={`${resource.id}-finding-${index}`}>{finding}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                      {!!resource.summaryJson?.limitations?.length && (\r\n                        <div>\r\n                          <p className=\"text-xs font-semibold text-slate-light\">מגבלות</p>\r\n                          <ul className=\"list-disc space-y-1 pr-5 text-sm text-navy\">\r\n                            {resource.summaryJson.limitations.map((limitation: string, index: number) => (\r\n                              <li key={`${resource.id}-limitation-${index}`}>{limitation}</li>\r\n                            ))}\r\n                          </ul>\r\n                        </div>\r\n                      )}\r\n                      {resource.summaryJson?.bottomLine && (\r\n                        <div>\r\n                          <p className=\"text-xs font-semibold text-slate-light\">Bottom line</p>\r\n                          <p className=\"text-sm text-navy\">{resource.summaryJson.bottomLine}</p>\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  )}\r\n                </article>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LiteraturePanel;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}