{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const getStatus=value=>{if(value>=0.75)return{text:'גבוה',classes:'bg-emerald-100 text-emerald-700 border-emerald-300'};if(value>=0.45)return{text:'בינוני',classes:'bg-amber-100 text-amber-700 border-amber-300'};return{text:'נמוך',classes:'bg-rose-100 text-rose-700 border-rose-300'};};const formatBreakdownValue=value=>{var _value$reasons;if(value===undefined||value===null)return'N/A';if(typeof value==='number'){return\"\".concat((value*100).toFixed(0),\"%\");}const base=value.value!==undefined?\"\".concat((value.value*100).toFixed(0),\"%\"):'N/A';const reasons=(_value$reasons=value.reasons)!==null&&_value$reasons!==void 0&&_value$reasons.length?\" (\".concat(value.reasons.join('; '),\")\"):'';return\"\".concat(base).concat(reasons);};const buildTooltip=score=>{var _score$breakdown;if(!score)return'אין מדד איכות';const rows=[\"\\u05E6\\u05D9\\u05D5\\u05DF \\u05DB\\u05D5\\u05DC\\u05DC: \".concat((score.value*100).toFixed(0),\"%\")];Object.entries((_score$breakdown=score.breakdown)!==null&&_score$breakdown!==void 0?_score$breakdown:{}).forEach(_ref=>{let[key,value]=_ref;return rows.push(\"\".concat(key,\": \").concat(formatBreakdownValue(value)));});return rows.join(' | ');};const QualityBadge=_ref2=>{var _score$value;let{score,label}=_ref2;if(!score){return/*#__PURE__*/_jsx(\"div\",{className:\"rounded border border-slate-200 bg-white p-4 text-sm text-slate-500\",children:\"\\u05D0\\u05D9\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9 \\u05D0\\u05D9\\u05DB\\u05D5\\u05EA \\u05E8\\u05E4\\u05D5\\u05D0\\u05D9\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D9\\u05DD\"});}const status=getStatus((_score$value=score.value)!==null&&_score$value!==void 0?_score$value:0);return/*#__PURE__*/_jsxs(\"div\",{className:\"rounded border px-4 py-3 text-sm font-semibold flex items-center justify-between \".concat(status.classes),title:buildTooltip(score),children:[/*#__PURE__*/_jsx(\"span\",{children:label!==null&&label!==void 0?label:'מדד איכות רפואית'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg\",children:[(score.value*100).toFixed(0),\"%\"]})]});};export default QualityBadge;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","getStatus","value","text","classes","formatBreakdownValue","_value$reasons","undefined","concat","toFixed","base","reasons","length","join","buildTooltip","score","_score$breakdown","rows","Object","entries","breakdown","forEach","_ref","key","push","QualityBadge","_ref2","_score$value","label","className","children","status","title"],"sources":["C:/Office-Apps/LexMedical-App/src/components/QualityBadge.tsx"],"sourcesContent":["import React from 'react';\r\nimport { KnowledgeScore } from '../types';\r\n\r\ninterface Props {\r\n  score?: KnowledgeScore;\r\n  label?: string;\r\n}\r\n\r\nconst getStatus = (value: number) => {\r\n  if (value >= 0.75) return { text: 'גבוה', classes: 'bg-emerald-100 text-emerald-700 border-emerald-300' };\r\n  if (value >= 0.45) return { text: 'בינוני', classes: 'bg-amber-100 text-amber-700 border-amber-300' };\r\n  return { text: 'נמוך', classes: 'bg-rose-100 text-rose-700 border-rose-300' };\r\n};\r\n\r\nconst formatBreakdownValue = (value?: number | { value?: number; reasons?: string[] }): string => {\r\n  if (value === undefined || value === null) return 'N/A';\r\n  if (typeof value === 'number') {\r\n    return `${(value * 100).toFixed(0)}%`;\r\n  }\r\n  const base = value.value !== undefined ? `${(value.value * 100).toFixed(0)}%` : 'N/A';\r\n  const reasons = value.reasons?.length ? ` (${value.reasons.join('; ')})` : '';\r\n  return `${base}${reasons}`;\r\n};\r\n\r\nconst buildTooltip = (score?: KnowledgeScore): string => {\r\n  if (!score) return 'אין מדד איכות';\r\n  const rows: string[] = [`ציון כולל: ${(score.value * 100).toFixed(0)}%`];\r\n  Object.entries(score.breakdown ?? {}).forEach(([key, value]) => rows.push(`${key}: ${formatBreakdownValue(value as any)}`));\r\n  return rows.join(' | ');\r\n};\r\n\r\nconst QualityBadge: React.FC<Props> = ({ score, label }) => {\r\n  if (!score) {\r\n    return (\r\n      <div className=\"rounded border border-slate-200 bg-white p-4 text-sm text-slate-500\">\r\n        אין נתוני איכות רפואית זמינים\r\n      </div>\r\n    );\r\n  }\r\n  const status = getStatus(score.value ?? 0);\r\n  return (\r\n    <div\r\n      className={`rounded border px-4 py-3 text-sm font-semibold flex items-center justify-between ${status.classes}`}\r\n      title={buildTooltip(score)}\r\n    >\r\n      <span>{label ?? 'מדד איכות רפואית'}</span>\r\n      <div className=\"text-lg\">{(score.value * 100).toFixed(0)}%</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QualityBadge;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}