@import url('https://fonts.googleapis.com/css2?family=Assistant:wght@300;400;500;600;700&family=Alef:wght@400;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 16px;
  }

  body {
    @apply bg-pearl text-navy font-sans leading-relaxed;
  }

  button,
  a,
  input,
  textarea,
  select {
    font-family: inherit;
  }

  button:focus-visible,
  a:focus-visible,
  input:focus-visible,
  textarea:focus-visible,
  select:focus-visible {
    outline: 2px solid #D4AF37;
    outline-offset: 3px;
  }

  ::selection {
    @apply bg-gold text-navy;
  }

  #root {
    @apply min-h-screen;
  }
}

@layer components {
  .brand-mark {
    font-family: 'Alef', 'Assistant', sans-serif;
    letter-spacing: 0.1em;
  }

  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-full bg-gold px-5 py-2 text-sm font-semibold text-navy transition hover:bg-gold-light disabled:opacity-40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gold/70 focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-full bg-navy px-5 py-2 text-sm font-semibold text-white transition hover:bg-navy/80 disabled:opacity-40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gold/70 focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 rounded-full border border-gold px-5 py-2 text-sm font-semibold text-gold transition hover:bg-gold/10 disabled:opacity-40 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gold/70 focus-visible:ring-offset-2 focus-visible:ring-offset-white;
  }

  .card-shell {
    @apply rounded-card border border-pearl bg-white shadow-card-xl overflow-hidden transition-shadow duration-200;
  }

  .card-shell:hover {
    @apply shadow-2xl;
  }

  .mini-card {
    @apply rounded-card border border-pearl bg-pearl/40 p-4 text-sm text-navy space-y-2;
  }

  .card-accent {
    @apply h-1 w-full bg-navy;
  }

  .card-shell .card-head {
    @apply flex items-center justify-between px-6 py-4 text-navy;
  }

  .card-body {
    @apply px-6 pb-6;
  }

  .card-underline {
    @apply mx-6 mb-4 h-0.5 rounded-full bg-gold;
  }

  .badge {
    @apply inline-flex items-center rounded-full px-2.5 py-0.5 text-[11px] font-semibold tracking-wide;
  }

  .badge-critical {
    @apply badge bg-danger/10 text-danger;
  }

  .badge-warning {
    @apply badge bg-gold/15 text-navy;
  }

  .badge-info {
    @apply badge bg-slate-light/30 text-navy;
  }

  .badge-muted {
    @apply badge bg-pearl text-slate;
  }

  .badge-strong {
    @apply badge bg-gold text-navy;
  }

  .badge-owner {
    @apply badge bg-navy text-gold;
  }

  .badge-readonly {
    @apply badge bg-slate-light/40 text-navy;
  }

  .badge-status {
    @apply badge bg-gold text-navy;
  }

  .segmented-control {
    @apply inline-flex rounded-full border border-pearl bg-white overflow-hidden;
  }

  .segmented-control button {
    @apply px-3 py-1 text-[11px] font-semibold text-slate-light transition;
  }

  .segmented-control button[data-active='true'] {
    @apply bg-navy text-gold;
  }

  .timeline-wrapper {
    @apply relative pl-8;
  }

  .timeline-wrapper::before {
    content: '';
    position: absolute;
    inset-inline-end: 1.5rem;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(180deg, rgba(13, 27, 42, 0.2), rgba(13, 27, 42, 0.05));
  }

  .timeline-item {
    @apply relative flex gap-4 pr-2;
  }

  .timeline-node {
    @apply relative mt-2 h-3.5 w-3.5 rounded-full border-2 border-gold bg-white shadow;
  }

  .timeline-card {
    @apply flex-1 rounded-card border border-pearl bg-white shadow-card-xl p-4 text-sm text-navy space-y-2;
  }

  .quality-seal {
    @apply flex flex-col items-center justify-center rounded-full border-4 border-gold bg-white text-center w-28 h-28 shadow-card-xl;
  }

  .quality-seal__value {
    @apply text-3xl font-bold text-navy;
  }

  .quality-seal__label {
    @apply text-xs text-slate-light;
  }

  .state-block {
    @apply flex flex-col items-center justify-center gap-3 rounded-card border border-pearl bg-white px-6 py-8 text-center text-sm text-slate;
  }

  .state-block--error {
    @apply border-danger/40 bg-danger/5 text-danger;
  }

  .state-block__icon {
    @apply h-8 w-8 text-slate-light;
  }

  .state-block--error .state-block__icon {
    @apply text-danger;
  }

  .state-block__title {
    @apply text-base font-semibold text-navy;
  }

  .state-block--error .state-block__title {
    @apply text-base font-semibold text-danger;
  }

  .state-block__description {
    @apply text-xs text-slate-light max-w-sm;
  }

  .loader-inline {
    @apply inline-flex items-center gap-2 text-sm text-slate;
  }

  .loader-inline__icon {
    @apply h-4 w-4 animate-spin text-gold;
  }

  /* Bot launcher gentle float to draw attention */
  .animate-bot-float {
    animation: bot-float 2.2s ease-in-out infinite;
  }

  /* Cute bot mascot + speech bubble */
  .bot-bubble {
    @apply relative rounded-2xl border border-pearl bg-white px-3 py-2 shadow-card-xl;
  }

  .bot-bubble::after {
    content: '';
    position: absolute;
    right: -6px;
    top: 14px;
    width: 10px;
    height: 10px;
    background: white;
    border-right: 1px solid rgb(231 233 236);
    border-bottom: 1px solid rgb(231 233 236);
    transform: rotate(-45deg);
  }

  .bot-mascot {
    @apply relative inline-flex flex-col items-center;
    width: 34px;
    height: 34px;
  }

  .bot-mascot__head {
    @apply relative rounded-full border border-pearl bg-pearl/60;
    width: 34px;
    height: 34px;
  }

  .bot-mascot__eye {
    @apply absolute rounded-full bg-navy;
    width: 4px;
    height: 4px;
    top: 12px;
  }

  .bot-mascot__eye--left {
    right: 11px;
  }

  .bot-mascot__eye--right {
    right: 19px;
  }

  .bot-mascot__mouth {
    @apply absolute bg-gold rounded-full;
    height: 2px;
    width: 10px;
    right: 12px;
    top: 20px;
  }

  .bot-mascot__legs {
    @apply absolute flex items-center justify-center gap-2;
    bottom: -6px;
    right: 6px;
  }

  .bot-mascot__leg {
    @apply bg-navy rounded-full;
    width: 4px;
    height: 8px;
  }

  .bot-mascot--idle .bot-mascot__head {
    animation: bot-bob 1.6s ease-in-out infinite;
  }

  .bot-mascot--walk .bot-mascot__head {
    animation: bot-bob 0.9s ease-in-out infinite;
  }

  .bot-mascot--walk .bot-mascot__leg--left {
    animation: bot-walk-leg 0.35s ease-in-out infinite;
  }

  .bot-mascot--walk .bot-mascot__leg--right {
    animation: bot-walk-leg 0.35s ease-in-out infinite reverse;
  }
}

@keyframes bot-float {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

@keyframes bot-bob {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-2px);
  }
}

@keyframes bot-walk-leg {
  0%,
  100% {
    transform: rotate(8deg);
  }
  50% {
    transform: rotate(-8deg);
  }
}